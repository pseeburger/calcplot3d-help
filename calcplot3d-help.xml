<?xml version="1.0" encoding="UTF-8"?>
<mathbook>

<docinfo>
	<brandlogo url="https://www.monroecc.edu/faculty/paulseeburger/calcnsf/CalcPlot3D/" 
			   source="images/hyperboloid-small.png" />
	<html>
		<!-- Expects favicon/favicon-32x32.png, and favicon/favicon-16x16.png -->
		<favicon/>
	</html>
</docinfo>

<book xml:id="calcplot3d-help">
<title>CalcPlot3D Help</title>

<frontmatter xml:id="index">
<titlepage>
	<author>
	  <personname>Paul Seeburger</personname>
	  <department>Professor of Mathematics</department>
	  <institution>Monroe Community College</institution>
	  <email>pseeburger@monroecc.edu</email>
	</author>

   <date>Last updated: <today />, <timeofday /></date>
</titlepage>
</frontmatter>

<chapter xml:id="chapter-overview"><title>Overview</title>
    <introduction>
    <p>This is a help manual for using <url href="https://www.monroecc.edu/faculty/paulseeburger/calcnsf/CalcPlot3D/"><alert>CalcPlot3D</alert></url>,
	 an interactive JavaScript app for visualizing multivariable calculus, differential equations, physics, and more!</p>
	 <figure xml:id="figure-calcplot3d-defaultview">
		<caption>CalcPlot3D Default View</caption>
		<image width="100%" source="images/CalcPlot3Dopen.png">
			<description>Default view of CalcPlot3D</description>
		</image>
	 </figure>
    <p>First, let’s cover some of the basic functionality of the CalcPlot3D app.</p>
    </introduction>
    <section>
        <title>Rotating the 3D Plot <ampersand/> Key Shortcuts</title>
        <p>Click on the 3D plot window and drag the mouse on the plot. 
        This should rotate the surface in the direction you move the mouse about the focus point (the origin, by default).
        To reset the viewpoint to the original one, press the <alert>Home</alert> key (<em>fn-left arrow</em> on Mac).</p>
        <p>Useful key shortcuts are shown below for rotating the plot and many other features (on any device with a real keyboard).</p>
		<sidebyside>
		<stack>
			<tabular top="none">
				<col width="25%"/>
				<col width="75%" />
				<row valign="bottom" bottom="major">
				    <cell colspan="2" halign="center"><p><m>\large\textbf{CalcPlot3D}</m> <m>\large\textit{Rotation}</m> <m>\large\textbf{Key Shortcuts}</m></p></cell>
				</row>
				<row valign="top" bottom="medium">
					<cell>Key combination</cell>
					<cell><p>Action</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell>left-arrow</cell>
					<cell><p>Rotate plot left about the <m>z</m>-axis.</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell>right-arrow</cell>
					<cell><p>Rotate plot right about the <m>z</m>-axis.</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell>x + left-arrow</cell>
					<cell><p>Rotate plot clockwise about the <m>x</m>-axis.</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell>x + right-arrow</cell>
					<cell><p>Rotate plot counter-clockwise about the <m>x</m>-axis.</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell>y + left-arrow</cell>
					<cell><p>Rotate plot clockwise about the <m>y</m>-axis.</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell>y + right-arrow</cell>
					<cell><p>Rotate plot counter-clockwise about the <m>y</m>-axis.</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell>up-arrow</cell>
					<cell><p>Rotate plot upward on screen.</p></cell>
				</row>
				<row valign="top" bottom="major">
					<cell>down-arrow</cell>
					<cell><p>Rotate plot downward on screen.</p></cell>
				</row>
			</tabular>
			</stack>
		</sidebyside>
		
		<sidebyside>
		<stack>			
		    
			<tabular top="none">
				<col width="25%"/>
				<col width="75%" />
				<row valign="bottom" bottom="major">
				    <cell colspan="2" halign="center"><p><m>\large\textbf{CalcPlot3D}</m> <m>\large\textit{Viewpoint}</m> <m>\large\textbf{and}</m> <m>\large\textit{Center}</m> <m>\large\textbf{Key Shortcuts}</m></p></cell>
				</row>
				<row valign="top" bottom="medium">
					<cell><p>Key combination</p></cell>
					<cell><p>Action</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>Home (Mac: fn-left arrow)</p></cell>
					<cell><p>Reset 3D view to default.</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>Ctrl-Home (Mac: Ctrl-fn-left arrow)</p></cell>
					<cell><p>Set viewpoint to above <m>xy</m>-plane.</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>Alt-x</p></cell>
					<cell><p>Set viewpoint to above <m>yz</m>-plane (along the positive <m>x</m>-axis).</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell><p>Alt-y</p></cell>
					<cell><p>Set viewpoint to above <m>xz</m>-plane (along the positive <m>y</m>-axis).</p></cell>
				</row>
				<row valign="top" bottom="medium">
					<cell><p>Ctrl-v</p></cell>
					<cell><p>Enter viewpoint.</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>Alt-left arrow</p></cell>
					<cell><p>Shift 3D plot center to the left.</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>Alt-right arrow</p></cell>
					<cell><p>Shift 3D plot center to the right.</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>Alt-up arrow</p></cell>
					<cell><p>Shift 3D plot center upward.</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>Alt-down arrow</p></cell>
					<cell><p>Shift 3D plot center downward.</p></cell>
				</row>
				<row valign="top" bottom="major">
					<cell><p>Alt-Home (Mac: alt-fn-left arrow)</p></cell>
					<cell><p>Reset 3D plot center to default.</p></cell>
				</row>
			</tabular>
			</stack>
		</sidebyside>
		
		<sidebyside>
		<stack>
			<tabular top="none">
				<col width="25%"/>
				<col width="75%" />
				<row valign="bottom" bottom="major">
				    <cell colspan="2" halign="center"><p><m>\large \textbf{Additional CalcPlot3D Key Shortcuts}</m></p></cell>
				</row>
				<row valign="top" bottom="medium">
					<cell><p>Key combination</p></cell>
					<cell><p>Action</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell><p>t</p></cell>
					<cell><p>Turn transparency on/off.</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell><p>a</p></cell>
					<cell><p>Show/hide axes.</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell><p>b</p></cell>
					<cell><p>Show/hide box around 3D plot.</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell><p>p</p></cell>
					<cell><p>Switch between perspective and parallel projections.</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell><p>e</p></cell>
					<cell><p>Hide/show edges on 3D surfaces.</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell><p>f</p></cell>
					<cell><p>Hide/show faces on 3D surfaces.</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell><p>n</p></cell>
					<cell><p>Show/hide surface normals on 3D surfaces.</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell><p>s</p></cell>
					<cell><p>Turn 3D Stereo View on/off.</p></cell>
				</row>
				<row valign="top" bottom="minor">
					<cell><p>3</p></cell>
					<cell><p>Turn Red/Cyan 3D Glasses mode on/off.</p></cell>
				</row>
				<row valign="top" bottom="major">
					<cell><p>Ctrl-s</p></cell>
					<cell><p>Open script menu.</p></cell>
				</row>
			</tabular>
			</stack>
		</sidebyside>
    </section>
    
    
    <section>
        <title>Using 3D Glasses</title>
        <sidebyside widths="7% 85%"><image width="7%" source="images/3DGlasses.png"><description>Image of 3D glasses</description></image>
        <p>To turn on/off the 3D Glasses Mode, click the small toolbar button with an image of 3D glasses on it.</p></sidebyside>

        <p>The plot should now appear to have overlapping red and cyan shadows, as shown in the figure below.  
        You should wear the 3D glasses so the red lens is on the left and the cyan lens is on the right.</p>
        <figure>
            <caption>3D Glasses Mode</caption>
            <interactive calcplot3d="type=z;z=7xy/e^(x^2+y^2);visible=true;umin=-2;umax=2;vmin=-2;vmax=2;grid=30;format=normal;alpha=-1;constcol=rgb(255,0,0);view=0;contourcolor=red;fixdomain=false&amp;type=window;hsrmode=3;nomidpts=true;anaglyph=0;center=-3.0033092873796114,-8.221936222744707,4.83527642161825,1;focus=0,0,0,1;up=0.07574356174225831,0.41516237846394183,0.9065887228301264,1;transparent=true;alpha=140;twoviews=false;unlinkviews=false;axisextension=0.7;xaxislabel=x;yaxislabel=y;zaxislabel=z;edgeson=true;faceson=true;showbox=true;showaxes=true;showticks=true;perspective=true;centerxpercent=0.4;centerypercent=0.5;rotationsteps=30;autospin=true;xygrid=false;yzgrid=false;xzgrid=false;gridsonbox=true;gridplanes=false;gridcolor=rgb(128,128,128);xmin=-2;xmax=2;ymin=-2;ymax=2;zmin=-2;zmax=2;xscale=1;yscale=1;zscale=1;zcmin=-4;zcmax=4;zoom=0.45;xscalefactor=1;yscalefactor=1;zscalefactor=1" variant="minimal" width="60%">
				<static>
					<image source="images/anaglyphImage.png" width="50%"/>
				</static>
			</interactive>
        </figure>
        <p>There are a variety of 3D viewing modes you can experiment with in CalcPlot3D. 
        These are found in the <alert>3D Options</alert> submenu of the Main menu in CalcPlot3D.
        For more details on the other options see the help page in <xref ref="section-3doptions" /> for this submenu.</p>
    </section>
    
    
    <section xml:id="section-other-toolbar-actions">
		<title>Other Toolbar Actions</title>
		<p>Here is a description of each of the other toolbar buttons at the top of the CalcPlot3D control panel.</p>    
		<sidebyside widths="7% 80%"><image width="7%" source="images/reset.png"><description>Reset button</description></image><p>Resets the app to the original view.</p></sidebyside>
		<sidebyside widths="7% 80%"><image width="7%" source="images/clear.png"><description>Clear Plot button</description></image><p>Clears the 3D plot of any plotted objects.</p></sidebyside>
		<sidebyside widths="7% 80%"><image width="7%" source="images/zoomIn.png"><description>Zoom In</description></image><p>Zooms the domain window in by a factor of 1/2.</p></sidebyside>
		<sidebyside widths="7% 80%"><image width="7%" source="images/zoomOut.png"><description>Zoom Out</description></image><p>Zooms the domain window out by a factor of 2.</p></sidebyside>
		<sidebyside widths="7% 80%"><image width="7%" source="images/search.png"><description>Switch Transparency</description></image><p>Turns surface transparency on/off.</p></sidebyside>
		<sidebyside widths="7% 80%"><image width="7%" source="images/edgesbutton.png"><description>Show/hide Edges</description></image><p>Show/hide the surface edges.</p></sidebyside>
		<sidebyside widths="7% 80%"><image width="7%" source="images/facesbutton.png"><description>Show/hide Faces</description></image><p>Show/hide the surface faces.</p></sidebyside>
		<sidebyside widths="10% 80%"><image width="10%" source="images/graphbutton.png"><description>Update plot</description></image><p>Force all objects to update in plot.</p></sidebyside>
		<sidebyside widths="14% 80%"><image width="14%" source="images/3Dmodebutton.png"><description>Next 3D rendering mode</description></image><stack><p>Render plot using the next 3D Hidden Surface mode. See <xref ref="section-3doptions" />.</p>
		<p>These modes are: <ul><li>Array Depthsort,</li> <li>Array Depthsort Triangularized,</li> <li>BSP Tree,</li> <li>BSP Tree Triangularized,</li> <li>Object Depth Sort</li></ul></p></stack></sidebyside>
		<sidebyside widths="7% 80%"><image width="7%" source="images/formatAxes.png"><description>Format axes</description></image><p>Show/hide the format axes options.</p></sidebyside>
		<sidebyside widths="7% 80%"><image width="7%" source="images/gridmenu.png"><description>Show Gridlines Menu</description></image><p>Show/hide the gridlines menu.</p></sidebyside>
		<sidebyside widths="7% 80%"><image width="7%" source="images/tracePlane.png"><description>Show/hide 2D Traceplane</description></image><p>Show/hide the 2D traceplane and its options. See <xref ref="chapter-traceplane" />.</p></sidebyside>
    </section>
    
    
    <section xml:id="section-formataxes">
        <title>Using the Format Axes dialog</title>
    	<sidebyside widths="93% 7%">
		   <p>Open the Format Axes dialog by clicking on the <alert>Format Axes</alert> toolbar button</p>
		   <image width="7%" source="images/formatAxes.png"><description>Format Axes button</description></image>
	   </sidebyside>
<!--	   <sidebyside widths="60% 40%"> -->
	   <figure>
	      <caption>The format axes dialog showing all full plot options.</caption>
	      <image width="50%" source="images/formataxesdialog.png"><description>Format Axes dialog</description></image>
	   </figure>
<!--       </sidebyside>  -->
       <p>While the Zoom In and Zoom Out buttons allow you to quickly adjust the axes ranges by halving or doubling all values, 
           this dialog allows you to fine tune and adjust the axes ranges, tick mark units, scalefactors, z-clipping, and focus point.</p>
       <p>Pressing enter on any of these textbox values should update the plot accordingly.</p>
       <p><dl width="narrow"><li><title>Axis ranges</title>
           <p>Adjust these values to set the axes ranges on the 3D plot (and the associated traceplane).</p>
           </li>
           <li><title>Tick marks</title>
           <p>The <m>x</m>-, <m>y</m>-, and <m>z</m>-tick marks indicate a unit to use for spacing the tick marks and associated number labels along each axis.
           These tick marks and labels will start at the minimum value of the respective axis range.</p>
           </li>
           <li><title>Scalefactors</title>
           <p>The <m>x</m>-, <m>y</m>-, and <m>z</m>-scalefactors will scale the plot by the given scalefactor in along the given axis.
           This allows you to create plots where some dimensions are much larger or smaller than others, i.e., 
           this allows the scaling to be non-uniform in the various directions.</p>
           </li>
           <li><title><m>z</m>-clips</title>
           <p>The <m>z</m>-clipping values will hide all parts of the surface above the upper <m>z</m>-clip value or below the lower <m>z</m>-clip value.</p>
           </li>
           <li><title>Focus Point</title>
           <p>The focus point is the point about which the plot rotates.  By default, this point is the origin, 
           but this option allows you to change this pivot/focus point to something else.</p>
           </li>
           <li><title>Quick Views</title>
            <sidebyside widths="60% 40%">
               <p>The <alert>Quick Views Menu</alert> allows you to quickly adjust the plot axes ranges to one of the listed options.</p>
			   <image width="50%" source="images/quickviews.png"><description>Quickviews menu</description></image>
	       </sidebyside>
	       </li>
	    </dl></p>
    </section>
    
    
    <section xml:id="section-gridlinesmenu">
        <title>Using the Gridlines menu</title>

	   <sidebyside widths="93% 7%">
		   <p>This menu allows you to modify the way the axes, box, and gridline planes display.
			You access this menu by clicking on the <alert>Gridlines Menu</alert> button.</p>
		   <image width="7%" source="images/gridmenu.png"><description>Grid Menu button</description></image>
	   </sidebyside>
	   <sidebyside widths="60% 30%">
		  <image width="60%" source="images/gridmenubutton-toolbar.png"><description>Grid Menu button in toolbar</description></image>
		  <image width="30%" source="images/gridmenumenu.png"><description>Grid Menu button</description></image>
	   </sidebyside>
	   <p>The menu (shown with default options selected on the right) contains the following options:
	   <ul>
	   <li><alert>Show <m>xy</m>-gridlines:</alert> Shows gridlines in the <m>xy</m>-plane or on the box (if this option is selected).</li>
	   <li><alert>Show <m>xz</m>-gridlines:</alert> Shows gridlines in the <m>xz</m>-plane or on the box (if this option is selected).</li>
	   <li><alert>Show <m>yz</m>-gridlines:</alert> Shows gridlines in the <m>yz</m>-plane or on the box (if this option is selected).</li>
	   <li><alert>Show gridlines on box:</alert> Moves the visible gridlines from the actual axes-planes to the bounding box.</li>
	   <li><alert>Show planes with grids:</alert> Displays planes with the gridlines so they are easier to see.</li>
	   <li><alert>Show box:</alert> Indicates whether to display the plot bounding box or not.  The b-key also toggles the presence of this box.</li>
	   <li><alert>Show axes:</alert> Indicates whether to display the coordinate axes or not.  The a-key also toggles the presence of the axes.</li>
	   <li><alert>Show Ticks <ampersand /> Labels:</alert> Indicates whether to display the tick marks and numbers labeling the axes.</li>
	   </ul></p>
	   <figure xml:id="figure-gridlines-example">
		   <caption>An example plot with the gridlines shown on all three coordinate planes, shown on the box with planes to make them more visible.</caption>
		   <image width="100%" source="images/gridlinesplotexamplesmall.png"><description>Grid Menu button</description></image>
	   </figure>
    </section>
    
    
    <section xml:id="section-toptips">
        <title>Did you know?</title>
    	<p>This section includes a list of highlighted tips for using the CalcPlot3D app.  Most can be found elsewhere in this manual, 
    	but this section may help you find some useful features of CalcPlot3D.</p>
    	<p><ol>
    	    <li><p><alert>You can save the current view to the URL.</alert></p>
    	       <p>You can create a URL that includes codes for the current view in the CalcPlot3D plot.  This allows you to save this URL to your browser Favorites, place it as a hyperlink, or send it to a student or colleague.</p>
    	       <p>For more information on how to do this, see <xref ref="subsection-savetourl" />.</p>
    	    </li>
    	    <li><p><alert>You can even save a series of views in a script file and load it into CalcPlot3D at a later time.</alert></p>
    	       <p>For a project, demonstration, or exploration, or just to show a friend something cool you are exploring in CalcPlot3D, you can create a script file
    	       with 1 or more steps/views in it and save it to your computer to be loaded into the app at a later time.</p>
    	       <p>For more information on how to do this, see <xref ref="chapter-creatingscripts" />.</p>
    	    </li>
    	    <li><p><alert>CalcPlot3D allows you to enter most functions you might want to use.</alert></p>
    	       <p>See <xref ref="appendix-availablefunctions" /> for available functions.</p>
    	    </li>
    	    <li><p><alert>You can use parameters to animate most objects.</alert></p>
    	       <p>The letters <c>a</c>, <c>b</c>, <c>c</c>, <c>d</c>, and <c>t</c> can all be used at parameters in functions to show what happens when we vary
    	       certain aspects of a function.</p>
    	       <p>For example, we can enter the following function in the default function object:</p>
    	       <p><m>z =</m><c>a(x-c)^2 + b(y-d)^2 + t</c></p>
    	       <p>Sliders for each parameter we just used will automatically appear (if they are not already visible).
    	       We can then vary any one of these parameters and observe the effect on the shape of the surface.</p>
    	       <p>See <xref ref="section-sliders" /> for more information and examples.</p>
    	    </li>
            <li><p><alert>You can graph parametric equations in CalcPlot3D.</alert></p>
                <p>CalcPlot3D allows you to explore parametric equations in the plane or in space.</p>
    	       <p>See the Space Curve object in <xref ref="section-space-curves" /> for details.</p>
    	    </li>
    	</ol></p>
    </section>
</chapter>



<chapter xml:id="chapter-objects">
    <title>CalcPlot3D Objects</title>
    <introduction>
    <p>
    There are a number of objects that can be added to the plot window in CalcPlot3D using the <alert>Add to graph</alert> drop-down menu.  This chapter will explain each of these objects and how to use them.
    </p>
    </introduction>
	
	<section xml:id="section-functions-fxy">
	<title>Functions of Two-Variables</title>
	    <subsection>
	       <title>Functions in the form <m>z = f(x, y)</m></title>
	       <p>This is the type of function object that is provided by CalcPlot3D when it opens. But to add a new one,
	       just select the first option <c>Function: z = f(x,y)</c> on the <alert>Add to graph</alert> drop-down menu,
	       located just below the control panel toolbar buttons.  See an image of this object's dialog below.</p>
	       <sidebyside widths="70%">
		      <image width="50%" source="images/functionfxy.png"><description>Function z = f(x,y) object</description></image>
		   </sidebyside>
	       <p><ul>
	       <li>You can enter any function of <m>x</m> and <m>y</m> that you wish or select functions from the drop-down menu.
	       See the list of available functions in <xref ref="appendix-availablefunctions" />.</li>
	       <li>When you are ready to plot it, either select the check box on the top left of the object dialog,
	       press enter on the function you typed in the textbox, or click the <alert>Graph</alert> button.</li>
	       <li><p>The range of values for <m>x</m> and <m>y</m> that is just below the function textbox determines
	       the restricted domain (a rectangle) for this function.  Note that unless you change this, it will automatically
	       update to align with the restricted domain of the view window in the plot.</p>
	       <p>So if you were to change these values to something other than the ranges for the <m>x</m>- and <m>y</m>-axes in the <alert>Format Axes</alert> dialog (see how to use the Format Axes dialog in <xref ref="section-formataxes" />),
	       this function would keep its independent domain even when you zoom in and out using the respective toolbar buttons.</p>
	       <p>To realign this function with the axes in the plot, simply adjust the ranges for <m>x</m> and <m>y</m> for this function to match those in the plot (and Format Axes dialog).</p></li>
	       <li><p>You can vary the <em>number of gridlines</em> used to make the mesh finer or wider.  The larger the number of gridlines used,
	       the closer the surface will get to the true graph of the function, but also the more polygons it will take to create it,
	       thus slowing down the plot and rotation process.</p>
	       <p>Note that you can actually enter two numbers separated by a comma to specify the number of gridlines
	        in both the <m>x</m>- and <m>y</m>-directions.  So you could enter, for example, <c>10, 15</c>.
	        This would create this surface plot using 10 gridlines in the <m>x</m>-direction and 15 gridlines in the <m>y</m>-direction.</p>
	       <p>When only one number is used, the same number of gridlines is used in both directions.</p></li>
	       <li><sidebyside widths="7% 85%"><image width="7%" source="images/contourplotbutton.png"><description>Contour plot button</description></image>
			   <p>Use the contour plot button to create a contour plot for this surface.  For more details on Contour Plots see <xref ref="section-contourplots" />.</p>
	       </sidebyside></li>
	       <li>Use the settings button, ⚙, to adjust function settings.  For a discussion of the options, see <xref ref="section-functionsettings" />.</li>
	       </ul></p>
        </subsection>
        <subsection>
	       <title>Functions in the form <m>x = f(y, z)</m></title>
	       <p>To add a function of this type select the option <c>Function: x = f(y, z)</c> on the <alert>Add to graph</alert> drop-down menu,
	       located just below the control panel toolbar buttons.  It's near the bottom of the list.</p>
	       <sidebyside widths="70%">
		      <image width="50%" source="images/functionfyz.png"><description>Function x = f(y,z) object</description></image>
		   </sidebyside>
		   <p>I find this object especially helpful for creating vertical planes to cut a surface defined by a function of <m>x</m> and <m>y</m>.</p>
		   <p>The options are almost identical to those of the function of <m>x</m> and <m>y</m> described above, although there is no option to create a contour plot.</p>
        </subsection>
        <subsection>
	       <title>Functions in the form <m>y = f(x, z)</m></title>
	       <p>To add a function of this type select the option <c>Function: y = f(x, z)</c> on the <alert>Add to graph</alert> drop-down menu,
	       located just below the control panel toolbar buttons.  It's near the bottom of the list.</p>
	       <sidebyside widths="70%">
		      <image width="50%" source="images/functionfxz.png"><description>Function y = f(x,z) object</description></image>
		   </sidebyside>
		   <p>This object is also helpful for creating vertical planes to cut a surface defined by a function of <m>x</m> and <m>y</m>.</p>
		   <p>The options are again almost identical to those of the function of <m>x</m> and <m>y</m> described above, although there is no option to create a contour plot.</p>
        </subsection>
	    <subsection>
	       <title>Functions in Cylindrical Coordinates</title>
	       <p>Only one of these is implemented so far, although note that any cylindrical or spherical function can already be graphed using
	       an Implicit Surface.  See <xref ref="section-implicit-surfaces" />.</p>
	       <p><ul><li>
	             <p><alert>Functions of the form <m>r = f(\theta, z)</m></alert></p>
	             <p>To add a function of this type select the option <c>Function: r = f(θ, z)</c> on the <alert>Add to graph</alert> drop-down menu,
				   located just below the control panel toolbar buttons.</p>
				 <sidebyside widths="75%">
					  <image width="70%" source="images/functionfthetaz.png"><description>Function r = f(θ,z) object</description></image>
				 </sidebyside>
				 <p>Note that the ranges for <m>/theta</m> and <m>z</m> will not update for this type of function when you zoom in or out using the zooming buttons.</p>
				 <p>The number of steps in each domain is important in determining the resolution of the cylindrical surface.</p>
	          </li>
		   </ul></p>
        </subsection>
        <subsection>
	       <title>Functions in Spherical Coordinates</title>
	       <p>These are not yet implemented in CalcPlot3D.  But you can plot these functions already using an Implicit Surface.
	       See <xref ref="section-implicit-surfaces" />.</p>
        </subsection>
	</section>

	<section xml:id="section-space-curves">
	    <title>Space Curves</title>
		<introduction>
		    <p>To add a space curve to the plot, select the option <c>Space Curve: r(t)</c> on the <alert>Add to graph</alert> drop-down menu,
	        located just below the control panel toolbar buttons.  You'll see an object dialog appear like the following:</p>
			<sidebyside widths="50% 45%">
				  <figure>
					 <caption>Space Curve dialog</caption>
					 <image width="50%" source="images/spacecurveobject.png"><description>Space curve object</description></image>
				  </figure>
				  <figure xml:id="figure-helix">
					 <caption>Helix space curve</caption>
					 <image width="50%" source="images/helix.png"><description>Helix space curve</description></image>
				  </figure>
			</sidebyside>
			<sidebyside widths="7% 90%">		   
			   <image width="7%" source="images/clear.png"><description>Clear Plot button</description></image>
			   <p>Clear the plot by clicking the clear plot button.</p>
		   </sidebyside>
		
			<p>Then check the checkbox in the upper-left corner of this object to plot the default curve.</p>
			<p>A multicolored helix should appear on the 3D plot as shown in <xref ref="figure-helix"/>. The color variation along the curve is meant to help viewers see the curve’s 3D features, clearly 
			showing which parts of the curve are in front and which are in back.</p>
			<p>Space curves can also benefit from the other 3D modes, but when using 3D glasses modes, 
			it is helpful to choose the option <alert>Use Constant Primary Color</alert>.  The constant color is automatically selected when in 2D mode.</p>
			<p>If you wish to view the a 2D plane curve on the <m>xy</m>-plane, select the <alert>Restrict view to 2D</alert> checkbox.</p>
			<p>The range for <m>t</m> and the number of steps can each be adjusted.  More steps may be needed to make the curve smoother,
			but the number of steps will also affect the speed of the animation of motion along the curve.</p>
			<p>To animate the motion along the curve, click the <alert>Animate</alert> button.  This will cause a blue trace vector to
			move along the curve from minimum <m>t</m>-value to maximum <m>t</m>-value.  By default the velocity vector (black) and
			acceleration vector (green) are also displayed as the point moves along the space curve.</p>
			<p>The slider or textbox can also be used to adjust the value of <m>t</m> and the position of the object on the curve.</p>
		</introduction>
		<subsection>
		   <title>Space Curve Settings, ⚙</title>
		   <p>Clicking on the settings button, ⚙, will open up the following menu.</p>
		   <sidebyside widths="40%">
		      <image width="50%" source="images/spacecurvesettings.png"><description>Space Curve settings</description></image>
		   </sidebyside>
		   <p><dl width="medium">
		      <li><title>Show Trace Point:</title>
		          <p>Indicates whether to display a point at the current position on the curve.   <em>Selected by default.</em></p>
		      </li>
		      <li><title>Show Trace Vector:</title>
		          <p>Indicates whether to display the blue trace vector at the current position on the curve. <em>Selected by default.</em></p>
		      </li>
		      <li><title>Show Velocity Vector:</title>
		          <p>Indicates whether to display black velocity vector at the current position on the curve. <em>Selected by default.</em></p>
		      </li>
		      <li><title>Show Acceleration Vector:</title>
		          <p>Indicates whether to display the green acceleration vector at the current position on the curve. <em>Selected by default.</em></p>
		      </li>
		      <li><title>Show Osculating Circle:</title>
		          <p>Indicates whether to display the osculating circle at the current position on the curve.</p>
		      </li>
		      <li><title>Show Curvature Value:</title>
		          <p>Indicates whether to display the curvature value at the current position on the curve.</p>
		      </li>
		      <li><title>Show whole TNB-Frame:</title>
		          <p>Indicates whether to display the entire TNB-Frame at the current position on the curve.  Selecting or deselecting this option
		          will automatically select or deselect all the TNB-Frame options shown below.</p>
		      </li>
		      <li><title>TNB-Frame Options:</title>
		          <p>Indicates whether to display individual parts of the TNB-Frame at the current position on the curve.
		          You can either choose to select just a few items to begin or select the whole TNB-Frame above and then deselect a few items.</p>
		      </li>
		      <li><title>Animation Settings:</title>
		         <p><ul>
		            <li><alert>Continuous Animation</alert> - If selected, the animation will continue until stopped by the user.</li>
		            <li><alert>Bounce over range</alert> - If selected along with continuous animation, the animation will go through the range
		            of <m>t</m> values in reverse after reaching the maximum <m>t</m> value, and then reverse again once it reaches the minimum <m>t</m> value.</li>
		         </ul>
				 </p>
		      </li>
		      </dl>
           </p>
		</subsection>
		
	</section>

	<section xml:id="section-vectorfields">
	    <title>Vector Fields</title>
		<p>To add a vector field to the plot, select the option <c>Vector Field</c> on the <alert>Add to graph</alert> drop-down menu.
	       You'll see an object dialog appear like the following:</p>
		<sidebyside widths="50% 45%">
			  <figure>
				 <caption>Vector field dialog</caption>
				 <image width="50%" source="images/vectorfielddialog.png"><description>vector field dialog</description></image>
			  </figure>
			  <figure xml:id="figure-vectorfield2din3d">
				 <caption>2D vector field in space</caption>
				 <image width="50%" source="images/2dvectorfield-in3d.png"><description>2D Vector Field in Space</description></image>
			  </figure>
	   </sidebyside>
	   <sidebyside widths="7% 90%">		   
		   <image width="7%" source="images/clear.png"><description>Clear Plot button</description></image>
		   <p>Clear the plot by clicking the clear plot button.</p>
	   </sidebyside>
	   <p>Then check the checkbox in the upper-left corner of this object to plot the default vector field.</p>
	   <p>This vector field happens to be a 2D vector field, but it is plotted in a 3D plot by default.  It should look like <xref ref="figure-vectorfield2din3d" />.
	   To quickly change the view to be above the <m>xy</m>-plane, select the <alert>Restrict view to 2D</alert> option.
	   Now your view should look like <xref ref="figure-vectorfield2din2d" />.
	   Note that in 2D, the <alert>Use Constant Primary Color</alert> option is selected by default.
	   When this option is not selected, the vectors are colored based on their three components similarly to the way faces
	   of a surface are colored based on the three components of their normal vectors.</p>
	   <sidebyside widths="58% 42%">
			  <figure xml:id="figure-vectorfield2din2d">
				 <caption>2D vector field in the <m>xy</m>-plane</caption>
				 <image width="50%" source="images/2dvectorfield.png"><description>2D Vector Field in the Plane</description></image>
			  </figure>
			  <figure xml:id="figure-vectorfield2dfixed">
				 <caption>2D vector field with fixed length vectors</caption>
				 <image width="50%" source="images/fixedlengthvf.png"><description>2D Vector Field with Fixed Length Vectors</description></image>
			  </figure>
		</sidebyside>
		<p>This vector field is still fairly easy to read, but sometimes the vectors may be very difficult to read because of how they overlap.</p>
		<p>There are a couple options for dealing with this.  One option is to force all vectors in the vector field to have the same fixed length.
		Select the checkbox labeled <alert>Use fixed length for all vectors</alert> to see how this looks.  It should appear like <xref ref="figure-vectorfield2dfixed"/>.</p>
	    <p>Another way to vary the vector lengths in a vector field so that they do not overlap is to adjust the scalefactor, labeled <alert>Scale vectors by dividing by</alert>.
	    By default, vectors in a vector field are divided by 4 to scale them down.  You can adjust this value to see how it affects the plot.
	    To see all vectors in the vector field at the natural length, change this value to 1.</p>
	    <p>The <alert>Number of vectors</alert> along each axis can be adjusted to change the appearance and refinement of the vector field.
	    When in 2D mode, we just need to adjust the number of vectors along the <m>x</m>- and <m>y</m>-axes, and keep just one vector along the <m>z</m>-axis.
	    But when in 3D mode, you'll want to change the number of levels along the <m>z</m>-axis to be more than one.</p>
	    <p>Note that if you are considering a system of differential equations, you also have the option of changing the notation of the components of the vector field
	    to use differential notation.  Select the option to <alert>Show system of DEs notation</alert> and the components of the vector field should look like those here:</p>
	    <sidebyside widths="60%">
	       <image width="60%" source="images/desystemdialog.png"><description>System of differential equations notation</description></image>
	    </sidebyside>

	    <p><m>\Large\textbf{3D Vector Fields:}</m></p>
	    <p>To obtain a 3D vector field, deselect the option to <alert>Restrict view to 2D</alert> and change the number of vectors along the <m>z</m>-axis to be more than 1.
	    For example, if you change this value to 4 and also deselect the option to <alert>Use Constant Primary Color</alert>, the view will look like <xref ref="figure-vectorfield3d" />.</p>
	    <sidebyside widths="40% 60%">
			  <figure xml:id="figure-vectorfield3d">
				 <caption>3D vector field in space</caption>
				 <image width="50%" source="images/3dvectorfield.png"><description>3D Vector Field in Space</description></image>
			  </figure>
			  <figure xml:id="figure-vectorfield3d2">
				 <caption>3D vector field with a non-zero 3rd component</caption>
				 <image width="50%" source="images/3dvectorfield2b.png"><description>3D Vector Field in Space</description></image>
			  </figure>
		</sidebyside>
		<p>Changing the third component to be non-zero, say <m>P = z - x</m>, and rotating the view a little, we obtain a plot like <xref ref="figure-vectorfield3d2" />.
		The definition of the vector field is now:</p>
		<sidebyside widths="50%">
	       <image width="50%" source="images/3dexamplevf.png"><description>3D vector field with non-zero 3rd component</description></image>
	    </sidebyside>
	    <p>Note that 3D Glasses mode would be quite helpful for 3D vector fields.  Give it a try!</p>
	    <p><m>\Large\textbf{Vector Field Modes:}</m></p>
		<p>Every vector field we've looked at so far has been in <alert>Rectangular Array</alert> mode.
		Now let's consider the other mode options provided here.  Although these modes can be used in 2D mode, I think they are most useful when viewed in 3D.</p>
		<p><dl width="narrow">
		   <li><title>Spherical Array:</title>
		   <p>Instead of showing vectors at a rectangular grid of points as is done in the <alert>Rectangular Array</alert> mode,
		   <alert>Spherical Array</alert> mode places vectors at points on <alert>spheres</alert> (or circles in 2D).</p>
		   <p>Instead of specifying the number of vectors in each axis direction, <alert>Spherical Array</alert> mode uses the number of vectors on each circle (parallel to the <m>xy</m>-plane),
		   the number of concentric spheres (or concentric circles in 2D), and the number of circular steps in the vertical <m>z</m>-direction.</p>
		   <sidebyside widths="50%">
			   <image width="50%" source="images/vectorfieldsphericalranges.png"><description>Ranges for spherical mode</description></image>
		   </sidebyside>
		   <figure xml:id="figure-vectorfield3d2spherical">
				 <caption>3D vector field in Spherical Array mode</caption>
				 <image width="100%" source="images/3dvectorfield2bspherical.png"><description>3D vector field in spherical array mode</description></image>
		   </figure>
		   </li>
		   <li><title>Cylindrical Array:</title>
		   <p>In this mode places vectors at points on <alert>cylinders</alert> (or circles in 2D).</p>
		   <p><alert>Cylindrical Array</alert> mode uses the number of vectors on each circle (parallel to the <m>xy</m>-plane),
		   the number of concentric circles, and the number of levels in the vertical <m>z</m>-direction.</p>
		   <sidebyside widths="50%">
			   <image width="50%" source="images/vectorfieldcylindricalranges.png"><description>Ranges for cylindrical mode</description></image>
		   </sidebyside>
		   <figure xml:id="figure-vectorfield3d2cylindrical">
				 <caption>3D vector field in Cylindrical Array mode</caption>
				 <image width="100%" source="images/3dvectorfield2bcylindrical.png"><description>3D vector field in cylindrical array mode</description></image>
		   </figure>
		   </li>
		</dl></p>
	</section>

	<section xml:id="section-points">
	<title>Points</title>
		<p>To add a point to the plot, select the option <c>Point: (x, y, z)</c> from the <alert>Add to graph</alert> menu.  The following dialog will appear:</p>
		<figure>
			 <caption>Point object dialog</caption>
			 <image width="50%" source="images/pointobject.png"><description>Point object dialog</description></image>
	    </figure>
	    <p>Enter the coordinates of the point, select a color and enter a positive size value for the point.</p>
	    <p>To plot the point, either press enter in one of the point textboxes or check the checkbox in the upper lefthand corner of the point object dialog.</p>
	    <p></p>
	    <p><em>Currently parameters are not yet allowed in points, although it is likely to be possible soon!</em></p>
	</section>
	
	<section xml:id="section-vectors">
	<title>Vectors</title>
		<p>To add a vector to the plot, select the option <c>Vector: &lt;a, b, c&gt;</c> from the <alert>Add to graph</alert> menu.  The following dialog will appear:</p>
		<figure>
			 <caption>Vector object dialog</caption>
			 <image width="50%" source="images/vectorobject.png"><description>Vector object dialog</description></image>
	    </figure>
	    <p>Enter the components of the vector, select a color and enter a positive width value for the vector.
	    You can then also enter the coordinates of an initial point.  By default, the initial point is assumed to be the origin.</p>
	    <p>To graph the vector, either press enter in one of the vector textboxes or check the checkbox in the upper lefthand corner of the vector object dialog.</p>
	    <p></p>
	    <p><em>Currently parameters are not yet allowed in vectors, although it is likely to be possible soon!</em></p>
	</section>
	
	<section xml:id="section-textlabels">
	<title>*Text Labels</title>
		<p></p>
	</section>

	<section xml:id="section-implicit-surfaces">
	<title>*Implicit Surfaces</title>
	
	    <subsection>
			<title>Cartesian Coordinates</title>
				<p></p>
		</subsection>
	    <subsection>
			<title>Cylindrical Coordinates</title>
				<p></p>
		</subsection>
		<subsection>
			<title>Spherical Coordinates</title>
				<p></p>
		</subsection>
	
	</section>

	<section xml:id="section-parametric-surfaces">
	<title>*Parametric Surfaces</title>
		<p></p>
	</section>
	
    <section xml:id="section-regions">
	<title>*Regions</title>
		<p></p>
	</section>
	
	<section xml:id="section-sliders">
	<title>*Parameter Sliders</title>
		<p></p>
	</section>
	<section xml:id="section-functionsettings">
		<title>Surface Settings, ⚙</title>
		<introduction>
			<sidebyside widths="50% 50%">
			<p>Function settings are the same for the following objects:
			  <ul>
				<li><c>Function: z = f(x,y)</c></li>
				<li><c>Function: x = f(y,z)</c></li>
				<li><c>Function: y = f(x,z)</c></li>
				<li><c>Implicit Surface</c></li>
				<li><c>Parametric Surface</c></li>
				<li><c>Region</c></li>
				<li><c>Function: r = f(θ,z)</c></li>
			  </ul>
			</p>
			<image width="50%" source="images/surfacesettings.png"><description>Surface Settings Menu</description></image>
			</sidebyside>

			<p>You can find this settings menu by clicking on the settings button, ⚙, for the surface object whose settings you wish to adjust.</p>
			<p>Using these settings, you can then adjust these formatting options for this surface only, leaving settings for other surfaces unaffected.</p>
		</introduction>
		<subsection>
			<title>Transparency</title>
			<sidebyside widths="92% 7%">
			    <p>You can adjust the transparency of the whole plot with the <alert>Toggle Transparency</alert> button.</p>
				<image width="7%" source="images/search.png"><description>Contour plot button</description></image>
	       </sidebyside>
			<p>But in the <em>Surface Settings</em> menu, you can adjust the transparency of a single surface so that it is not affected by the general transparency setting.</p>
			<p>The initial transparency value of <c>-1</c> forces the surface to use the default plot transparency mentioned above.</p>
			<p>Adjusting this value using the scrollbar or by entering a value from 0 (fully invisible) to 255 (fully opaque) will set the transparency value for this surface,
			and make it not follow the plot transparency setting.</p>
		</subsection>
		<subsection>
			<title>Hide my edges</title>
			<sidebyside widths="92% 7%">
			    <p>Similar to transparency, you can adjust whether the polygon edges are displayed in the whole plot with the <alert>Toggle Edges</alert> button.</p>
				<image width="7%" source="images/edgesbutton.png"><description>Toggle Edges button</description></image>
	       </sidebyside>
			<p>But in the <em>Surface Settings</em> menu, you can hide the polygon edges of a single surface so that it is not affected by the general edge display setting.</p>
			<p>This is a checkbox, that is unchecked by default.  Selecting this option will force the edges of this surface to be hidden without affecting any other surfaces in the plot.</p>
		</subsection>
		<subsection>
			<title>Coloring the surface faces</title>
			<p>These options allow you to change the coloring setting for a single surface.</p>
			<p>By default, the colors of surface faces are determined by the three components of a normal vector to the face.</p>
			<p>When two intersecting surfaces are plotted together one of them is automatically set to <alert>Reversed colors</alert> so the intersection of the surfaces is easier to see.
			Note that when two or more surfaces intersect in the plot, the Hidden Surface Mode is also automatically changed to BSP Tree Mode (not triangulated) to improve the resolution of the intersection.</p>
			<p>But in the <em>Surface Settings</em> menu, you can adjust the way the faces of a single surface are colored.</p>
			<p></p>
			<p>Now let's look at each of the options for coloring the surface faces.</p>
			<p><ul>
			    <li><alert>Normal appearance:</alert> The default coloring scheme based on the components of the normal vector to each face.</li>
			    <li><alert>Reversed colors:</alert> Each face is colored using the same coloring scheme but using the components of the negative of the normal vector.
			                                        This results in coloring the top of the surface as the bottom would have been colored in the <alert>Normal appearance</alert> mode
			                                        and coloring the bottom as if it were the top.</li>
			    <li><alert>Wireframe only:</alert> All faces for this surface are hidden and the surface is displayed as a wireframe.  
			    Note that using the <alert>Toggle Faces</alert> button will Hide/Show faces for the whole plot.  
			    But changing the coloring setting in <em>Surface Settings</em> will lock this surface to be displayed as indicated here.</li>
			    <li>
			    <sidebyside widths="70% 30%">
			    <p><alert>Constant color:</alert> Selecting this option will cause a color picker panel to appear just below these surface coloring options
			    and will color the surface red (or the last selected color).
			    You can then use the color picker to select a desired color for both sides of the entire surface.</p>
				<image width="30%" source="images/surfacecoloring.png"><description>Surface color picker</description></image>
	            </sidebyside>
			    </li>
			</ul></p>
		</subsection>
	</section>
</chapter>

<chapter xml:id="chapter-traceplane">
	<title>Using the 2D Trace Plane</title>
	<introduction>
		<p>
		The 2D Trace Plane offers options to visually explore a number of
		 multivariable calculus concepts including partial derivatives, directional derivatives,
		 gradients, normal vectors and tangent planes.
		</p>
    </introduction>
    <section>
        <title>Accessing the 2D Trace Plane</title>
    	<p>Although the 2D Trace Plane will sometimes be displayed automatically 
		(e.g., when displaying contour plots),
		it is generally not displayed when you first open CalcPlot3D.</p>
		
		<p>To access the Trace Plane, click on the trace plane button, located at the far right of the row of buttons
		above the <alert>Add to graph</alert> menu.  See the circled button below.</p>
		<sidebyside widths="70%">
		<image width="50%" source="images/traceplaneButton.png"><description>Trace plane button</description></image>
		</sidebyside>
    </section>
    <section>
        <title>Trace points on the 2D Trace Plane</title>
			<p>By default, clicking on the 2D trace plane will display the corresponding point on the first surface shown in the 3D plot.</p>
			<p>Dragging the input point around in the 2D plot will also move the corresponding function point around on the surface, 
			helping you to see how they are related.  The coordinates of the function point are shown both in the green display above the 3D plot
			and on the plot itself, in the upper left corner.</p>
    </section>
    <section>
        <title>Trace Plane Menu Options</title>
        <introduction>
			<p>When the 2D trace plane is displayed, a related menu appears just to the right of the trace plane button with additional options.  
			It looks like a downward pointing triangle.  See the circled button below.</p>
			<sidebyside widths="70%">
			<image width="50%" source="images/traceplanemenubuttoncircled.png"><description>Trace plane menu button</description></image>
			</sidebyside>
			<p>Click on it to view the available options.</p>
			<p>Each of these options is described below.</p>
        </introduction>
        <subsection>
            <title>Enter trace point</title>
            <p>This option allows you to enter a trace point as an ordered pair.  Once entered,
            the point will be plotted on the 2D trace plane and the corresponding point will be shown
            on the surface in the 3D plot.</p>
        </subsection>
        <subsection>
            <title>Show trace point only</title>
            <p>This option is to return to the default of only showing a trace point after viewing one of the other objects on this list.</p>
        </subsection>
        <subsection>
            <title>Show tangent plane at point</title>
            <p>Choosing this option will allow you to see the tangent plane to the first plotted surface
             at any given point you click on in the 2D trace plane.</p>
             <p>You can click and drag the input point around in the trace plane to see the corresponding tangent plane
             move about on the surface.</p>
        </subsection>
        <subsection>
            <title>Show gradient at point on surface</title>
            <p>There are two options to display the gradient vector to the surface.</p>
            <p>This one displays the gradient vector at the corresponding point on the surface
            as well as in the 2D trace plane at the input point.</p>
        </subsection>
        <subsection>
            <title>Show gradient at input point</title>
            <p>This one displays the gradient vector at the input point in the <m>xy</m>-plane in the 3D plot
            as well as at the input point in the 2D trace plane.</p>
        </subsection>
        <subsection>
            <title>Show normal vector at point</title>
            <p>Use this option to display a normal vector on the surface at the selected input point in the 2D trace plane.</p>
            <p>Again, you can click-and-drag the input point around in the 2D trace plane to see how the
            normal vector moves around on the surface in the 3D plot.</p>
        </subsection>
        <subsection>
            <title>Show fx trace/tangent line</title>
            <p>Choose this option to display a trace curve of the surface at the selected input point that keeps the <m>y</m>-coordinate fixed
            and varies the <m>x</m>-coordinates.</p>
            <p>A tangent line to this trace curve will also be displayed at the input point, and the partial derivative of the function with respect to <m>x</m>
            will be displayed in the green display above the 3D plot.
            This value corresponds to the slope of the trace curve (and the surface) at the trace point in the <em>positive</em> <m>x</m>-direction.</p>
            <p>Note that the corresponding point on the surface is also displayed in the upper-left corner of the 3D plot.</p>
            <p>Also notice that you can use the sliders or textboxes below the 2D trace plane to vary the input point and see how the slopes change
            as you move along a single trace curve, as you vary <m>x</m>, or how the trace curve and slope change as you vary <m>y</m>.</p>
        </subsection>
        <subsection>
            <title>Show fy trace/tangent line</title>
            <p>Select this option to display a trace curve of the surface at the selected input point that keeps the <m>x</m>-coordinate fixed
            and varies the <m>y</m>-coordinates.</p>
            <p>A tangent line to this trace curve will also be displayed at the input point, and the partial derivative of the function with respect to <m>y</m>
            will be displayed in the green display above the 3D plot.
            This value corresponds to the slope of the trace curve (and the surface) at the trace point in the <em>positive</em> <m>y</m>-direction.</p>
            <p>Note that the corresponding point on the surface is also displayed in the upper-left corner of the 3D plot.</p>
            <p>Also notice that you can use the sliders or textboxes below the 2D trace plane to vary the input point and see how the slopes change
            as you move along a single trace curve, as you vary <m>y</m>, or how the trace curve and slope change as you vary <m>x</m>.</p>
        </subsection>
        <subsection>
            <title>Show dir derivative trace</title>
            <p>This option will display a trace curve of the surface at the selected input point that is aligned with the displayed direction vector.</p>
            <p>A tangent line to this trace curve is displayed at the input point, and the value of the directional derivative
            of the function in the direction of the direction vector will be displayed in the green display above the 3D plot.
            This value corresponds to the slope of the trace curve (and the surface) at the trace point in the direction of the direction vector.</p>
            <p>The corresponding point on the surface is also displayed in the upper-left corner of the 3D plot.</p>
            <p>In the 2D trace plane, you will see two vectors in addition to the input point.</p>
            <p>The red vector is the gradient vector to the surface at the selected input point.</p>
            <p>The green vector is the normalized (unit length) current direction vector to the surface at the selected input point.</p>
            <p>To change the direction of the direction vector, either right-click and drag it around in the 2D trace plane,
            vary the slider for the angle theta shown below the 2D trace plane, or select the option to enter a direction vector using it's components.</p>
            <p>Again, note that there is a slider that allows you to vary only the position of the tangent line along the current trace curve.</p>
        </subsection>
        <subsection>
            <title>Enter a direction vector</title>
            <p>This option allows you to enter a 2D direction vector (from the <m>xy</m>-plane)
            for use with the <alert>Show dir derivative trace</alert> option above.</p>
        </subsection>
        <subsection>
            <title>Hide all objects</title>
            <p>Select this option to hide all trace objects in both the 2D trace plane and in the 3D plot.</p>
        </subsection>
    </section>
</chapter>


<chapter>
<title>*CalcPlot3D Menus <ampersand /> Options</title>
<introduction>
   <sidebyside widths="90% 7%">
   <p>This chapter explains how to use each of the options on CalcPlot3D's main menu.  
   To access this main menu, click or tap on the menu icon located at the upper left corner of the app, on the green bar.
   It looks like the image to the right.</p>
   <image width="50%" source="images/mainmenu.png"><description>App Main Menu icon</description></image>
   </sidebyside>
</introduction>
<section>
	<title>*File menu</title>
	<introduction><p></p></introduction>
	<subsection xml:id="subsection-savetourl">
	<title>Save the current view to a URL</title>
	   <p></p>
	</subsection>
</section>
<section>
	<title>*Scripts menu</title>
	<p></p>
</section>
<section>
	<title>*Print Plot option</title>
	<p></p>
</section>
<section xml:id="section-3doptions">
	<title>*3D Options menu</title>
	<p></p>
</section>
<section>
	<title>*View Settings menu</title>
	<p></p>
</section>
<section>
	<title>*Examples menu</title>
	<p></p>
</section>
</chapter>


<chapter>
    <title>Exploring Multivariable Calculus</title>
        <section>
	         <title>*Vector Explorations</title>
	         <p></p>
	    </section>
	    <section>
	         <title>Points, Lines <ampersand/> Planes in Space</title>
	         <subsection>
	            <title>Plane through Three Non-Collinear Points</title>
	      <!--      <p>Finding the equation of the plane determined by three non-collinear points and visually verifying that the plane contains these three points.</p>  -->
          <!--      <exercises>
                <exercise>  -->
                <exploration xml:id="exploration-3pointplane">
                        <statement>
						<p>a. Find the equation of the plane containing the points <m>(2, 0, 1)</m>, <m>(-1, 2, 3)</m>, and <m>(0, 2, -2)</m>.</p>
						<p>b. Graph this plane along with the three points to verify that all three
						points lie on the plane. To do this, first solve the plane equation for <m>z</m> and graph the plane, 
						entering it in the provided function box on the left. To see its graph, either press enter on the function or click the <alert>Graph</alert> button.
						Just above this function there should be a dropdown menu labeled: <alert>Add to graph</alert>.  
						Select to <alert>add a Point (x, y, z)</alert>, entering the coordinates of one of the points. You can use the default size and colors.
						(If you wish to vary these settings, be sure the points still show up well in the printout.)
						Note that the checkbox to the left of a function, point, or other object needs to be selected if you wish to see that object in the plot.</p>
						<p>Repeat these steps to add the other two points. Rotate the plot to verify that all the points lie on the plane and then find
						a clear view of the plane with the three points on it. Use the <alert>Print Plot</alert> menu option on the <alert>File</alert> menu at the top left corner
						of the CalcPlot3D app to print out your resulting view and hand this printout in with this assignment.</p>
						</statement>
						<answer>
						<p>Answer: The plane equation is: <m>z = (22 – 10x – 13y)/2</m></p>
						<figure>
					        <caption>Solution plot for <xref ref="exploration-3pointplane" /></caption>
							<interactive calcplot3d="type=z;z=(22-10x-13y)/2;visible=true;umin=-2;umax=2;vmin=-2;vmax=2;grid=30;format=normal;alpha=-1;constcol=rgb(255,0,0);view=0;contourcolor=red;fixdomain=false&amp;type=point;point=(2,0,1);visible=true;color=rgb(0,0,0);size=4&amp;type=point;point=(-1,2,3);visible=true;color=rgb(0,0,0);size=4&amp;type=point;point=(0,2,-2);visible=true;color=rgb(0,0,0);size=4&amp;type=window;hsrmode=0;nomidpts=true;anaglyph=-1;center=-9.045084971874711,-2.938926261462361,3.0901699437494745,1;focus=0,0,0,1;up=0,0,2,1;transparent=false;alpha=140;twoviews=false;unlinkviews=false;axisextension=0.7;xaxislabel=x;yaxislabel=y;zaxislabel=z;edgeson=true;faceson=true;showbox=true;showaxes=true;showticks=true;perspective=true;centerxpercent=0.4;centerypercent=0.5;rotationsteps=30;autospin=true;xygrid=false;yzgrid=false;xzgrid=false;gridsonbox=true;gridplanes=false;gridcolor=rgb(128,128,128);xmin=-2;xmax=2;ymin=-2;ymax=2;zmin=-2;zmax=2;xscale=1;yscale=1;zscale=1;zcmin=-4;zcmax=4;zoom=0.65;xscalefactor=1;yscalefactor=1;zscalefactor=1" variant="minimal" width="60%">
								<static>
									<image width="50%" source="images/threepointplane.png"><description>Plane thru 3 points</description></image>
								</static>
							</interactive>
						</figure>
			<!--			<image width="50%" source="images/threepointplanelarge.png"><description>Plane thru 3 points</description></image> -->
						
						</answer>
           <!--     </exercise>
                </exercises>  -->
                </exploration>
            </subsection>
            <subsection>
                <title>The Line of Intersection of Two Planes</title>
                <exploration xml:id="exploration-plane-intersection">
                    <statement>
                        <p>a. Determine the line of intersection of the following two planes. Write the parametric equations for this line, showing all work.</p>
						<p><me>2x + y – 2z = 5 \quad\text{and}\quad 3x – 6y – 2z = 15</me></p>
						<p>b. Use the <url href="https://www.monroecc.edu/faculty/paulseeburger/calcnsf/CalcPlot3D/">CalcPlot3D app</url> to display these two planes.
						To do this, solve each planar equation for <m>z</m>, and enter them in the app, using two function objects.
						There is one there when you open the app, and you can add another by selecting <alert>Function: <m>z = f(x, y)</m></alert> on the <alert>Add to graph</alert> menu.
						Zoom out a couple times (if necessary) until you can see both planes along with their intersection.
						Now add the line of intersection. (To do this, choose <alert>Space Curve: r(t)</alert> from the <alert>Add to graph</alert> menu,
						and enter the parametric equations for the line.) Rotate the 3D view to verify that your line is indeed the intersection of the two planes.
						Rotate until you have a good view of the two planes and the line of intersection.
						Use the <alert>Print Plot</alert> menu option on the <alert>File</alert> menu at the top left corner of the CalcPlot3D app
						to print out your resulting view and hand this printout in with this assignment.</p>
                    </statement>
					<answer>
					     <p>Answer Line:</p>
					     <p><md>
							<mrow>x &amp;= 3 + 14t</mrow>
							<mrow>y &amp;=-1+ 2t</mrow>
							<mrow>z &amp;=15t</mrow>
                         </md></p>
						<p>Here are the plane equations, solved for <m>z</m>:</p>
						<p><md>
						    <mrow>z &amp;= (2x + y – 5)/2</mrow>
						    <mrow>z &amp;= (3x – 6y – 15)/2</mrow>
					    </md></p>
					   
					    <figure>
					        <caption>Solution plot for <xref ref="exploration-plane-intersection" /></caption>
							<interactive calcplot3d="type=z;z=(2x+y-5)/2;visible=true;umin=-4;umax=4;usteps=100;vmin=-4;vmax=4;grid=30;format=normal;alpha=-1;constcol=rgb(255,0,0);view=0;contourcolor=red;fixdomain=false&amp;type=z;z=(3x-6y-15)/2;visible=true;umin=-4;umax=4;vmin=-4;vmax=4;grid=30;format=reversed;alpha=-1;constcol=rgb(255,0,0);view=0;contourcolor=red;fixdomain=false&amp;type=spacecurve;spacecurve=curve;x=3+14t;y=-1+2t;z=15t;visible=true;tmin=-10;tmax=10;tsteps=100;color=rgb(255,0,0);showtrace=false;tval=0;constcol=true;twod=false;showpt=true;trace=true;vel=true;acc=true;osc=false;k=false;repeat=false;bounce=false;showtvector=false;shownvector=false;showbvector=false;showtnbeqs=false;showtnblabels=false;showoscplane=false;showrectplane=false;shownormplane=false&amp;type=window;hsrmode=0;nomidpts=false;anaglyph=-1;center=-18.18893923225377,0.9865403460673894,8.257676897950827,1;focus=0,0,0,1;up=0.4151197357615459,0.05010330209904306,0.9083860765665863,1;transparent=false;alpha=140;twoviews=false;unlinkviews=false;axisextension=0.7;xaxislabel=x;yaxislabel=y;zaxislabel=z;edgeson=true;faceson=true;showbox=true;showaxes=true;showticks=true;perspective=true;centerxpercent=0.4;centerypercent=0.5;rotationsteps=30;autospin=true;xygrid=false;yzgrid=false;xzgrid=false;gridsonbox=true;gridplanes=false;gridcolor=rgb(128,128,128);xmin=-4;xmax=4;ymin=-4;ymax=4;zmin=-4;zmax=4;xscale=2;yscale=2;zscale=2;zcmin=-8;zcmax=8;zoom=0.2;xscalefactor=1;yscalefactor=1;zscalefactor=1" variant="minimal" width="60%">
								<static>
									<image width="50%" source="images/planeintersection.png"><description>Line of Intersection of Two Planes</description></image>
								</static>
							</interactive>
						</figure>
		<!--			<image width="50%" source="images/threepointplanelarge.png"><description>Plane thru 3 points</description></image> -->
					</answer>
                </exploration>
            </subsection>
	    </section>
	    <section>
	         <title>*Vector-Valued Functions</title>
	         <p></p>
	    </section>
	    <section>
	         <title>*Intersections of General Surfaces</title>
	         <p></p>
	    </section>
        <section xml:id="section-contourplots">
	         <title>*Contour Plots</title>
	         <p></p>
	    </section>
	    <section>
	         <title>Level Surfaces</title>
	         <p><dl width="narrow"><li>
	               <title>Video:</title>
	               <p>Here is a <url href="https://www.youtube.com/embed/lqiXsYYUb-I?rel=0"><alert>short video about Level Surfaces</alert></url> in CalcPlot3D created by Professor Larry Green of Lake Tahoe Community College.</p>
	            </li></dl>
			 </p>
	         <p>It is difficult to draw many interesting level surfaces by hand, but CalcPlot3D helps us explore them easily.</p>
	         <p>There are actually two ways to enter and graph the level surface equations for a particular function of three variables in CalcPlot3D:
                 <ol><li>Solve each equation for <m>z</m> in terms of <m>x</m>, <m>y</m>, and <m>C</m> and enter the level surface using one or two functions of <m>x</m> and <m>y</m>, or</li>
                     <li>Graph the level surface equation by adding an <alert>Implicit Surface</alert> from the <alert>Add to graph</alert> menu and entering the equation for the level surface.</li>
                 </ol>
             </p>
             <p>If the surfaces are complicated enough, you may not have a choice. If you are not able to solve for <m>z</m>, you will need to use the <alert>Implicit Surface</alert> option.</p>
            <exploration xml:id="exploration-level-surfaces">
                <statement>
					<p>Here is an example shown both ways.</p>
					<p>Let <m>f(x,y,z) = z^2 –x^2 +y^2</m>.</p>
					<p>Determine equations for the level surfaces for this function with <m>C = -2</m> and <m>C = 2</m>
					and plot them separately in CalcPlot3D.</p>
					<p><m>\large\textbf{Solution: Method 1:}</m> Solving for <m>z</m> and graphing both parts of the level surface</p>
					<p>Setting <m>f (x, y, z) = z^2 – x^2 + y^2 = C</m>, and solving for <m>z</m>, we obtain the following equations:</p>
					<p><md>
							<mrow>z &amp;= \sqrt{C + x^2 - y^2}</mrow>
							<mrow>z &amp;= -\sqrt{C + x^2 - y^2}</mrow>
						</md></p>
					<p>In a form for us to enter in CalcPlot3D these are:</p>
					<p>z = sqrt(C + x^2 - y^2)</p>
					<p>z = -sqrt(C + x^2 - y^2)</p>
					<p>For <m>C = -2</m>, we enter:</p>
					<p>z = sqrt(-2 + x^2 - y^2) in the 1st function and z = -sqrt(-2 + x^2 - y^2) in a 2nd function.</p>
				
					<figure>
						<caption>Level surface, <m>C = -2</m></caption>
						<interactive calcplot3d="type=z;z=-sqrt(-2+x^2-y^2);visible=true;umin=-4;umax=4;vmin=-4;vmax=4;grid=30;format=reversed;alpha=-1;constcol=rgb(255,0,0);view=0;contourcolor=red;fixdomain=false&amp;type=z;z=sqrt(-2+x^2-y^2);visible=true;umin=-4;umax=4;vmin=-4;vmax=4;grid=30;format=reversed;alpha=-1;constcol=rgb(255,0,0);view=0;contourcolor=red;fixdomain=false&amp;type=window;hsrmode=0;nomidpts=true;anaglyph=-1;center=-8.270108132492869,17.434097758282633,5.259044288794762,1;focus=0,0,0,1;up=0.06540861657849147,-0.14679188379427732,0.9870024598395972,1;transparent=false;alpha=140;twoviews=false;unlinkviews=false;axisextension=0.7;xaxislabel=x;yaxislabel=y;zaxislabel=z;edgeson=true;faceson=true;showbox=true;showaxes=true;showticks=true;perspective=true;centerxpercent=0.45;centerypercent=0.5;rotationsteps=30;autospin=true;xygrid=false;yzgrid=false;xzgrid=false;gridsonbox=true;gridplanes=false;gridcolor=rgb(128,128,128);xmin=-4;xmax=4;ymin=-4;ymax=4;zmin=-4;zmax=4;xscale=2;yscale=2;zscale=2;zcmin=-8;zcmax=8;zoom=0.2;xscalefactor=1;yscalefactor=1;zscalefactor=1" variant="minimal" width="60%">
							<static>
								<image width="50%" source="images/LevelSurfaceC-2.png"><description>Level surface, C = -2</description></image>
							</static>
						</interactive>
					</figure>
				    <p>For <m>C = 2</m>, we enter:</p>
					<p>z = sqrt(2 + x^2 - y^2) in the 1st function and z = -sqrt(2 + x^2 - y^2) in a 2nd function.</p>
					<figure>
						<caption>Level surface, <m>C = 2</m></caption>
						<interactive calcplot3d="type=z;z=-sqrt(2+x^2-y^2);visible=true;umin=-4;umax=4;vmin=-4;vmax=4;grid=30;format=reversed;alpha=-1;constcol=rgb(255,0,0);view=0;contourcolor=red;fixdomain=false&amp;type=z;z=sqrt(2+x^2-y^2);visible=true;umin=-4;umax=4;vmin=-4;vmax=4;grid=30;format=reversed;alpha=-1;constcol=rgb(255,0,0);view=0;contourcolor=red;fixdomain=false&amp;type=window;hsrmode=0;nomidpts=true;anaglyph=-1;center=-8.270108132492869,17.434097758282633,5.259044288794762,1;focus=0,0,0,1;up=0.06540861657849147,-0.14679188379427732,0.9870024598395972,1;transparent=false;alpha=140;twoviews=false;unlinkviews=false;axisextension=0.7;xaxislabel=x;yaxislabel=y;zaxislabel=z;edgeson=true;faceson=true;showbox=true;showaxes=true;showticks=true;perspective=true;centerxpercent=0.45;centerypercent=0.5;rotationsteps=30;autospin=true;xygrid=false;yzgrid=false;xzgrid=false;gridsonbox=true;gridplanes=false;gridcolor=rgb(128,128,128);xmin=-4;xmax=4;ymin=-4;ymax=4;zmin=-4;zmax=4;xscale=2;yscale=2;zscale=2;zcmin=-8;zcmax=8;zoom=0.2;xscalefactor=1;yscalefactor=1;zscalefactor=1" variant="minimal" width="60%">
							<static>
								<image width="50%" source="images/LevelSurfaceC2.png"><description>Level surface, C = 2</description></image>
							</static>
						</interactive>
					</figure>       
					
					
					<p><m>\large\textbf{Solution: Method 2}</m> Using an Implicit Surface</p>
					<p>Setting <m>f (x, y, z) = z^2 – x^2 + y^2 = C</m>, we can write a single implicit equation for each level surface.</p>
					<p>For <m>C = -2</m>, we will plot the implicit equation: <m> z^2 - x^2 + y^2 = -2</m></p>
					<p>For <m>C = 2</m>, we will plot the implicit equation:  <m>z^2 - x^2 + y^2 = 2</m></p>
					<p>To do this,
					   <ol>
					       <li>We clear the screen by clicking on the clear screen button.</li>
					       <li>Then we select to add an <alert>Implicit Surface</alert> from the <alert>Add to graph</alert> menu.</li>
					       <li>Enter z^2 - x^2 + y^2 = -2 in the corresponding textbox and select the checkbox (or press enter) to plot it.
					       This is the level surface for <m>C = -2</m>.</li>
					       <li>Print it out, if desired, using the <alert>Print Plot</alert> option on the app main menu.</li>
					       <li>To view the level surface for <m>C = 2</m>, just change the <m>-2</m> on the right side of the equation to a <m>2</m>.</li>
					   </ol>
				    </p>
				    <sidebyside widths="50% 50%">
						<figure>
							<caption>Level surface, <m>C = -2</m></caption>
							<image width="50%" source="images/LevelSurfaceC-2imp.png"><description>Level surface, C = -2</description></image>
						</figure>
						<figure>
							<caption>Level surface, <m>C = 2</m></caption>
							<image width="50%" source="images/LevelSurfaceC2imp.png"><description>Level surface, C = 2</description></image>
						</figure> 
					</sidebyside>               
                </statement>
            </exploration>
	    </section>
	    <section>
	         <title>*Partial Derivatives</title>
	         <p></p>
	    </section>
	    <section>
	         <title>*Directional Derivatives</title>
	         <p></p>
	    </section>
	    <section>
	         <title>*Tangent Planes</title>
	         <p></p>
	    </section>
	    <section>
	         <title>*Taylor Polynomials in Two-Variables</title>
	         <p></p>
	    </section>
	    <section>
	         <title>*Gradients</title>
	         <p></p>
	    </section>
	    <section>
	         <title>*Lagrange Multiplier Optimization</title>
	         <p></p>
	    </section>
	    <section>
	         <title>*Regions of Integration</title>
	         <p></p>
	    </section>
	    <section>
	         <title>*Vector Fields</title>
	         <p></p>
	    </section>
	    <section>
	         <title>*Line Integrals for Work</title>
	         <p></p>
	    </section>
</chapter>

<chapter>
    <title>Exploring Differential Equations</title>
    <introduction><p>When students can visualize the concepts they are learning, 
	 they will understand these concepts more deeply, and find it easier to remember them and connect them to related topics. 
	 In differential equations, we have a number of opportunities to visualize the topics we study.</p>
	</introduction>
	    <section>
	         <title>Using the Direction Field Explorer app</title>
	         <subsection>
				 <title>Visualizing 1st-order Differential Equations</title>
				 <p>In differential equations we begin by studying many applications of first-order differential equations.
				 We learn how these equations are derived from the language of the problems, and then we examine the direction fields
				 associated with each equation to make predictions, consider equilibria and to analyze the situations.</p>
				 <p>We can use the <url href="https://www.monroecc.edu/faculty/paulseeburger/calcnsf/DirectionField/"><alert>Direction Field Explorer app</alert></url>
				 to visually explore the direction fields associated with
				 any first order differential equation that can be solved for the first derivative.</p>
				 <p>We can also visually verify the general solution to these first-order differential equations.</p>
				 <figure xml:id="figure-directionFieldapp">
                    <caption>Direction Field Explorer app</caption>
				    <image width="100%" source="images/directionFieldapp.png"><description>Direction Field Explorer image</description></image>
				 </figure>
				 <p>To do so, follow the steps below:</p>
				 <p>
				 <ol>
				 <li>Enter the differential equation, solved for dy/dx to see the associated direction field.</li>
				 <li>Then enter the general solution to this differential equation (including the integration parameter C).</li>
				 <li>Next we can verify that the solution curves generated for various values of the parameter C all fit nicely through the field
				  no matter what value of C is used.  A slider is provided to allow this parameter to be quickly and smoothly varied through a broad range of values.</li>
				  </ol>
                  </p>
                  <p>The variables of the problem can be changed, and the range of values for each variable can be set to whatever
                is most appropriate for the problem being explored. If the range of values for one variable is much larger than for another,
                a non-uniform grid can be used to more easily view these situations.</p>
                <p>Clicking at a point on the direction field causes a solution curve to be drawn in that passes through the indicated point.</p>
			 </subsection>
	    </section>
        <section>
        	<title>Using CalcPlot3D</title>
			 <subsection>
				 <title>Visualizing Systems of Differential Equations</title>
				 <p>When we study systems of 1st-order differential equations, it is helpful to be able to visualize the phase plots associated with these systems,
				 and to see that no matter what values we use for the two (or three) parameters we obtain in the solution, 
				 the general solution (expressed parametrically) will always pass through the vectors in the (two or three dimensional)
				 phase plot just as the solution curves to 1st-order differential equations pass nicely through the corresponding direction fields
				 for any given value of the single parameter C.</p>
				 <p>Let's do a 2 x 2 system of differential equations example!</p>
				 <exploration xml:id="exploration-phaseplots">
				     <statement>
				        <p>a. First, clear the view by clicking on the clear plot button or by deleting the function object by clicking the small x in the upper-right corner of the object.</p>
				        <p>b. Then select <alert>Vector Field</alert> on the <alert>Add to graph</alert> menu.</p>
				        <p>c. Click the checkbox labeled, "Show system of DEs notation", so that it looks like the system we are entering.</p>
				        <p>d. Now enter the equations of the following system of 1st-order differential equations to see its phase plot.</p>
				        <p><md>
							<mrow>\frac{dx}{dt} &amp;= -2x + y</mrow>
							<mrow>\frac{dy}{dt} &amp;= -0.5x - y</mrow>
							<mrow>\frac{dz}{dt} &amp;= 0</mrow>
                        </md></p>
                        <p>e. Since this is a 2 x 2 system, let's <alert>Restrict the view to 2D</alert> by checking this checkbox.</p>
                        <p>f. Clicking on a point on the phase plot generates a solution curve. As you drag this point around the plot, the curve dynamically adjusts to fit the field.</p>
                        <p>The CalcPlot3D app should look something like this:</p>
                        <figure xml:id="figure-2x2system1a">
                            <caption>Phase plot for this 2 x 2 system</caption>
                            <image width="100%" source="images/2x2system1a.png"><description>Phase Plot for a 2 x 2 System</description></image>
                        </figure>
                        
                        <p>g. Clicking on the <alert>Animate</alert> button by the <m>t</m>- parameter animates a point along this path.  
                        This shows not only the direction of travel of an object traveling through this phase portrait from the chosen starting point, 
                        but also the speeds at which it travels as time passes.</p>
                        <p>h. Now add a <alert>Space Curve</alert> representing the general solution of this system (in parametric form) to the plot, using parameters <c>a</c> and <c>b</c>. We can use it to visually verify this general solution.</p>
                    </statement>
                    <answer>
                        <p>The general solution for this system is: <me>\vec{X} = c_1 e^{-3t/2}\left[\begin{pmatrix}1\\1\end{pmatrix}\cos{\scriptsize\frac{t}{2}}-\begin{pmatrix}-1\\0\end{pmatrix}\sin{\scriptsize\frac{t}{2}}\right]</me>
                        <me>+ \quad c_2 e^{-3t/2}\left[\begin{pmatrix}-1\\0\end{pmatrix}\cos{\scriptsize\frac{t}{2}}+\begin{pmatrix}1\\1\end{pmatrix}\sin{\scriptsize\frac{t}{2}}\right]</me>
                        </p>
                        <p>This can then be written in parametric form as:</p>
                        <p><md>
							<mrow>x(t) &amp;= e^{-3t/2}\left[ c_1\left(\cos{\scriptsize{\frac{t}{2}}} + \sin{\scriptsize{\frac{t}{2}}} \right) + c_2\left(\sin{\scriptsize{\frac{t}{2}}} - \cos{\scriptsize\frac{t}{2}}\right)\right]</mrow>
							<mrow>y(t) &amp;= e^{-3t/2}\left(c_1\cos{\scriptsize\frac{t}{2}} + c_2 \sin{\scriptsize\frac{t}{2}} \right)</mrow>
							<mrow>z(t) &amp;= 0</mrow>
                        </md></p>
                        <p>Now replacing <m>c_1</m> with <c>a</c> and <m>c_2</m> with <c>b</c>, we can enter the following equations in the Space Curve object and graph it.</p>
                        <p><md>
							<mrow>x(t) &amp;= e^{-3t/2}\left[\textbf{a}\left(\cos{\scriptsize{\frac{t}{2}}} + \sin{\scriptsize{\frac{t}{2}}} \right) + \textbf{b}\left(\sin{\scriptsize{\frac{t}{2}}} - \cos{\scriptsize\frac{t}{2}}\right)\right]</mrow>
							<mrow>y(t) &amp;= e^{-3t/2}\left(\textbf{a}\cos{\scriptsize\frac{t}{2}} + \textbf{b} \sin{\scriptsize\frac{t}{2}} \right)</mrow>
							<mrow>z(t) &amp;= 0</mrow>
                        </md></p>
                        <p>The parameters <c>a</c> and <c>b</c> can then be varied using their respective sliders to see how the solution curves given by this general solution always fit the system's phase plot.</p>
                        <p>Animate the motion along this curve to see that the orientation is also correct.  The motion should go in the direction of the vectors in the plot.</p>
				        <figure xml:id="figure-phaseportrait1a">
                            <caption>Phase portrait for this 2 x 2 system, showing the definition of the space curve object on the left.</caption>
                            <image width="100%" source="images/phaseportrait1.png"><description>Phase Portrait for a 2 x 2 System</description></image>
                        </figure>
				     </answer>
				 </exploration>
			 </subsection>
	    </section>
        
</chapter>

<chapter>
    <title>Creating STL Files for 3D Printing</title>
    <section xml:id="section-stlfile">
        <title>STL file Creation in CalcPlot3D</title>
		<p>One of the CalcPlot3D's newest features is its ability to save a surface to an STL file.
		This STL file can then be used to print a solid 3D surface model using a 3D printer, sometimes called a rapid prototyping machine.
		For example, here are the saddle, <m>z = x^2 – y^2</m>, and the parametric surface I call the Big Knot.</p>
		<sidebyside widths="51% 49%">
		<figure>
			<caption>3D print of saddle surface, <m>z = x^2 – y^2</m></caption>
			<image width="50%" source="images/saddle3Dprint.png"><description>3D printed saddle surface</description></image>
		</figure>
	
		<figure>
			<caption>3D print of Big Knot, a parametric surface</caption>
			<image width="50%" source="images/bigknot3Dprint.png"><description>3D printed big knot</description></image>
		</figure>
		</sidebyside>
	
		<p>In order for the STL file to work well with the 3D printer, the surface must be given sufficient thickness.
		To address this issue, CalcPlot3D will automatically give the thickness you specify to a surface before creating the STL file.
		The app must create a closed solid to represent the surface if you wish it to print on a 3D printer.</p>
		<p>To give this feature a try, first find a surface that you would like to print to a 3D printer and graph it with CalcPlot3D.</p>
		<p><ol><li>Open <url href="https://www.monroecc.edu/faculty/paulseeburger/calcnsf/CalcPlot3D/"><alert>CalcPlot3D</alert></url>.</li>
			<li><p>From the File menu select Create an STL file from the plot.  
			A dialog will appear like the one below.</p>
			<figure>
				<caption>STL dialog in CalcPlot3D</caption>
				<image width="50%" source="images/STLfileDialog.png"><description>STL dialog in CalcPlot3D</description></image>
			</figure>
			</li>
			<li>Enter the name you wish to give to the solid, and then enter the approximate size you expect to print it at and the desired thickness.
			These will be used together with the dimensions of the 3D plot window to determine the approximate correct thickness to use with the surface
			to account for the scaling to be done in the printer application.
			You may need to experiment a little with these values and your 3D printer software to get the thickness just right.</li>
			<li>If the surface you wish to print is already a closed 3D surface like a sphere or a torus, you can specify that no thickness be given to
			the surface before printing, or you can still use a thickness, depending on how you desire the printer to fill the void inside the closed surface.
			In this case, if you choose to give the closed surface a thickness, you will need to choose between using the <alert>Opposite Normals</alert> direction
			(generally inside the closed solid), the <alert>Normal Direction</alert> (generally outside the closed surface), or the <alert>Half-and-Half</alert> option, which goes
			both directions half the thickness and creates two new shells with the same basic shape.</li>
			<li>The <alert>Half-and-Half</alert> option is always best for surfaces that flip orientation in the middle of a surface like a Möbius Strip or a Klein Bottle.</li>
			<li>Use the <alert>View Solid</alert> button to see what the surface/solid will look like before saving the STL file.
			Note that this can take a little while, during which the cursor will remain a hand.
			The more faces you have in the plot (for a more accurate printed solid), the longer this processing will take.</li>
			<li>For regular surfaces given by functions of two variables like the saddle above, I prefer the <alert><m>z</m>-shift down</alert> option since it preserves
			the exact shape of the surface on the bottom as well as the top of the printed surface.
			But you need to compensate for the fact that the thickness will vary over the surface and be least thick where the surface is steepest in the <m>z</m>-direction.</li>
			<li>Once you see the solid in the plot, you can click on the plot and then type the n-key to view the surface normals of every triangular face in the plot.
			This can look a little busy, but can be helpful to check, as it is generally preferred (and possibly required) that the normal vectors
			of all faces point outwards.  Sometimes this may require you to adjust the parameterization of a parameterized surface, for example.</li>
			<li>Before saving the STL file, note that you can select either a <alert>Binary STL file</alert> (the default) or an <alert>ASCII STL file</alert>.
			The benefit of the Binary STL file is that it is much smaller than the ASCII STL file (about 1/5 the size).
			The benefit of the ASCII STL file is that you can actually read it to view the normal and vertices of each face.</li>
			<li>Once you are ready, click on the <alert>Create File</alert> button.  You should see the file downloading to your default download folder (in Chrome)
			or may need to choose to download it in some browsers.</li>
			<li>Once you have created the file, you will need to check it out in the 3D printer software (slicer) you plan to use.
			It may also be helpful to download an STL viewer like <em>MeshLab</em> or <em>Blender</em>.
			These allow you to check the surface for thickness and for other possible problems before you print it.
			They can also usually be used to fix these problems.  See tutorials online.</li>
			<li>Now you should be ready to print to the 3D printer using the 3D printer’s software.
			There is still some room to play with the surface in this software, scaling it appropriately and choosing how you want to fill
			the surface and how much support material to use.  Ask your local expert to help you with this step.  
			By the way, it can take a long time to print one of these surfaces, depending on the solid’s size and the printer and material being used to print it.
			My 6 in. x 6 in. saddle surface above took 13 hours to print and the 4 in. x 4 in. knot took almost 9 hours.
			But 3D printers are getting faster and less expensive all the time.</li>
		</ol></p>
		<p>If you’d like to share your favorite 3D print-tested STL files along with an image of the solid/surface,
		along with any activities you may have developed to accompany them,
		please send them to me at <email>pseeburger@monroecc.edu</email>.</p>
	</section>
</chapter>
<chapter xml:id="chapter-creatingscripts">
	 <title>*Creating Scripts</title>
	 <p></p>
</chapter>
<backmatter xml:id="backmatter">
    <title>Appendices</title>
	<appendix xml:id="appendix-availablefunctions">
	    <title>List of Available Functions</title>
	    <sidebyside>
	        <tabular halign="center" top="major">
				<col width="20%"/>
				<col width="20%" />
				<col width="20%" />	
				<row valign="top" bottom="none">
					<cell><p>ln()</p></cell>
					<cell><p>log()</p></cell>
					<cell><p>e^()</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>cos()</p></cell>
					<cell><p>arccos()</p></cell>
					<cell><p>cosh()</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>sin()</p></cell>
					<cell><p>arcsin()</p></cell>
					<cell><p>sinh()</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>tan()</p></cell>
					<cell><p>arctan()</p></cell>
					<cell><p>tanh()</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>cot()</p></cell>
					<cell><p>arccot()</p></cell>
					<cell><p>coth()</p></cell>
				</row>
                <row valign="top" bottom="none">
					<cell><p>sec()</p></cell>
					<cell><p>arcsec()</p></cell>
					<cell><p>sech()</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>csc()</p></cell>
					<cell><p>arccsc()</p></cell>
					<cell><p>csch()</p></cell>
				</row>
				<row valign="top" bottom="none">
					<cell><p>floor()</p></cell>
					<cell><p>int()</p></cell>
					<cell><p>ceil()</p></cell>
				</row>
				<row valign="top" bottom="major">
					<cell><p>abs()</p></cell>
					<cell><p>sign()</p></cell>
					<cell><p>sqrt()</p></cell>
				</row>
			</tabular>
		</sidebyside>

		<p><ol>
			<li>For absolute value, you can use |x| instead of abs(x).</li>
			<li>Factorial can be entered using !, e.g. 5! which is 5(4)(3)(2)(1).</li>
			<li>The exponential function e^(x) can also be entered exp(x).</li>
			<li>The sign function can also be entered as sgn().  It returns 1, if the input is positive, 0 if the input is 0, and -1, if the input is negative.</li>
			<li>For Spanish speakers, sin(x) can also be entered sen(x).  
			Similarly, arcsin(x) = arcsen(x) and sinh(x) = senh(x).</li>
			</ol>
		</p>
	</appendix>
	<appendix xml:id="appendix-dynamicfigures">
		 <title>Creating Dynamic Figures</title>
		 <introduction><p>Dynamic figures can be created using CalcPlot3D and placed in online OER textbooks or webpages.
		 These figures can be rotatable 3D plots or 2D plots with or without slider controls.  
		 Typically only the plot window is displayed, while the menus and controls from the CalcPlot3D app are hidden.</p>
		 <p>Depending on the context, the exact HTML code used to embed them will vary.</p>
		 <p>These dynamic figures are already being used in OER textbooks in the LibreTexts platform,
		 in PreTeXt OER textbooks and articles (like this one), in Geogebra books, and more.</p></introduction>
		 <section>
		     <title>Dynamic Figures with No Controls</title>
			 <p>These figures can be rotated if they are 3D, and can be manipulated in other ways with the mouse and keystrokes, just as if they were in the full CalcPlot3D app.</p>
			 <p>But in this type of dynamic figure only the 3D plot window is displayed, while all the menus and controls of the CalcPlot3D app are hidden.  See <xref ref="figure-dynamicfigure1" /> below.</p>
			 <figure xml:id="figure-dynamicfigure1">
				<caption>A dynamic figure</caption>
				<interactive calcplot3d="type=z;z=7xy/e^(x^2+y^2);visible=false;umin=0;umax=10;usteps=100;vmin=0;vmax=10;grid=30;format=normal;alpha=-1;constcol=rgb(255,0,0);contourcolor=red&amp;type=spacecurve;spacecurve=curve;x=t+7;y=2t+5;z=1.5t+1;visible=true;tmin=-10;tmax=10;tsteps=100;color=rgb(17,109,192);showtrace=false;tval=2.4000000000000004;constcol=true;twod=false;showpt=true;trace=true;vel=true;acc=true;osc=false;k=false;repeat=false;bounce=false;showtvector=false;shownvector=false;showbvector=false;showtnbeqs=false;showtnblabels=false;showoscplane=false;showrectplane=false;shownormplane=false&amp;type=vector;vector=%3C1,2,1.5%3E;visible=true;color=rgb(255,0,0);size=2;initialpt=(0,0,0)&amp;type=point;point=(7.4,5.8,1.6);visible=true;color=rgb(0,0,0);size=4&amp;type=point;point=(9.4,9.8,4.6);visible=true;color=rgb(0,0,0);size=4&amp;type=text;text=%20%20%20%20%20P%20~%20(x%3Csub%3E0%3C%2Fsub%3E%2C%20y%3Csub%3E0%3C%2Fsub%3E%2C%20z%3Csub%3E0%3C%2Fsub%3E);visible=true;point=(7.4,5.8,1.6);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=12pt;bold=false;italic=false;fontmath=true;align=Center-right&amp;type=text;text=%20%20%20%20Q%20~%20(x%2C%20y%2C%20z);visible=true;point=(9.4,9.8,4.6);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=12pt;bold=false;italic=false;fontmath=true;align=Center-right&amp;type=text;text=v%3Charpoon%3E%20~%20%3Ca%2C%20b%2C%20c%3E;visible=true;point=(1,2,2.25);color=rgb(255,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=false;italic=true;fontmath=true;align=Center&amp;type=window;hsrmode=1;anaglyph=-1;center=17.139439715453594,10.377939594400079,5.155621864146323,1;focus=5,5,5,1;up=-0.2866219643580234,-0.12700640150211873,0.9495879230092552,1;transparent=false;alpha=140;edgeson=true;faceson=true;showbox=false;showaxes=true;showticks=false;perspective=true;centerxpercent=0.4;centerypercent=0.5;rotationsteps=30;autospin=true;xygrid=true;yzgrid=true;xzgrid=true;gridsonbox=true;gridplanes=false;gridcolor=rgb(128,128,128);xmin=0;xmax=10;ymin=0;ymax=10;zmin=0;zmax=10;xscale=1;yscale=1;zscale=1;zcmin=-4;zcmax=4;zoom=0.15;xscalefactor=1;yscalefactor=1;zscalefactor=1" variant="minimal" width="60%">
					<static>
						<image source="images/staticline3d.png" width="50%"/>
					</static>
				</interactive>
			</figure>
		
			<p>To create this type of dynamic figure:
			<ol><li>Create the plot you desire to display in the dynamic figure using CalcPlot3D.</li>
			<li><p>Then save the view to the URL using the option on the File menu.  (See <xref ref="subsection-savetourl"/>.)
			You'll get a URL something like this:</p>
			<sidebyside><program><input>https://www.monroecc.edu/faculty/paulseeburger/calcnsf/CalcPlot3D/?type=z;z=7xy/e^(x^2+y^2);visible=false;umin=0;umax=10;usteps=100;vmin=0;vmax=10;grid=30;format=normal;alpha=-1;constcol=rgb(255,0,0);contourcolor=red&amp;type=spacecurve;spacecurve=curve;x=t+7;y=2t+5;z=1.5t+1;visible=true;tmin=-10;tmax=10;tsteps=100;color=rgb(17,109,192);showtrace=false;tval=2.4000000000000004;constcol=true;twod=false;showpt=true;trace=true;vel=true;acc=true;osc=false;k=false;repeat=false;bounce=false;showtvector=false;shownvector=false;showbvector=false;showtnbeqs=false;showtnblabels=false;showoscplane=false;showrectplane=false;shownormplane=false&amp;type=vector;vector=%3C1,2,1.5%3E;visible=true;color=rgb(255,0,0);size=2;initialpt=(0,0,0)&amp;type=point;point=(7.4,5.8,1.6);visible=true;color=rgb(0,0,0);size=4&amp;type=point;point=(9.4,9.8,4.6);visible=true;color=rgb(0,0,0);size=4&amp;type=text;text=%20%20%20%20%20P%20~%20(x%3Csub%3E0%3C%2Fsub%3E%2C%20y%3Csub%3E0%3C%2Fsub%3E%2C%20z%3Csub%3E0%3C%2Fsub%3E);visible=true;point=(7.4,5.8,1.6);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=12pt;bold=false;italic=false;fontmath=true;align=Center-right&amp;type=text;text=%20%20%20%20Q%20~%20(x%2C%20y%2C%20z);visible=true;point=(9.4,9.8,4.6);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=12pt;bold=false;italic=false;fontmath=true;align=Center-right&amp;type=text;text=v%3Charpoon%3E%20~%20%3Ca%2C%20b%2C%20c%3E;visible=true;point=(1,2,1.5);color=rgb(255,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=false;italic=true;fontmath=true;align=Center-left&amp;type=window;hsrmode=1;anaglyph=-1;center=17.139439715453594,10.377939594400079,5.155621864146323,1;focus=5,5,5,1;up=-0.2866219643580234,-0.12700640150211873,0.9495879230092552,1;transparent=false;alpha=140;edgeson=true;faceson=true;showbox=false;showaxes=true;showticks=false;perspective=true;centerxpercent=0.5;centerypercent=0.5;rotationsteps=30;autospin=true;xygrid=true;yzgrid=true;xzgrid=true;gridsonbox=true;gridplanes=false;gridcolor=rgb(128,128,128);xmin=0;xmax=10;ymin=0;ymax=10;zmin=0;zmax=10;xscale=1;yscale=1;zscale=1;zcmin=-4;zcmax=4;zoom=0.305882;xscalefactor=1;yscalefactor=1;zscalefactor=1
			
			</input></program></sidebyside>
			</li>
			
			<li>Copy the part of the URL after the question mark to paste into the appropriate HTML code shown below.</li>
			<li>Now typically we need to place the dynamic figure in an <c>iframe</c>, although this is hidden from the user in PreTeXt.
			Copy and paste the code below, depending on your situation.</li>
			</ol></p>
			<paragraphs>
			   <title>LibreTexts and many other HTML web pages</title>
			   <p>In order to get a dynamic figure that hides all the menus and controls of the CalcPlot3D app, we need to use a slightly different URL.</p>
			   <p>The URL for a dynamic figure with <alert>no controls</alert> is:</p> 
			   <sidebyside><program><input>https://www.monroecc.edu/faculty/paulseeburger/CalcPlot3D/dynamicFigure/
			   
			   </input></program></sidebyside>
			   <p>Note that the data for the figure is encoded in a query string by CalcPlot3D.  This means that we will need a question mark (?) just after the URL above
			   and then we'll paste the data copied from the CalcPlot3D-generated URL.  If we were to enter this new URL and query string in the browser directly,
			   we would get the dynamic figure by itself on the page.</p>
			   <p>To get the figure(s) on a page, especially if you might wish to place more than one of these dynamic figures on the same page,
			   it is useful to embed each dynamic figure in an <c>iframe</c> (so they won't interfere with each other).
			   I choose to make the width of this <c>iframe</c> 90% or less so there is still space on each side to scroll up and down past the figure.</p>
			   <p>Below you can see a listing of the code for <xref ref="figure-dynamicfigure1" /> when it is displayed in LibreTexts or a generic webpage.</p>
			   <sidebyside>
			      <program language="html">
			          <input>
			               <![CDATA[<p style="text-align:center">
			               <iframe frameborder="0" height="480px" 
			                       src="https://www.monroecc.edu/faculty/paulseeburger/CalcPlot3D/dynamicFigure/?type=
			                       z;z=7xy/e^(x^2+y^2);visible=false;umin=0;umax=10;usteps=100;vmin=0;vmax=10;grid=30;
			                       format=normal;alpha=-1;constcol=rgb(255,0,0);contourcolor=red&amp;
			                       type=spacecurve;spacecurve=curve;x=t+7;y=2t+5;z=1.5t+1;visible=true;tmin=-10;tmax=10;
			                       tsteps=100;color=rgb(17,109,192);showtrace=false;tval=2.4000000000000004;constcol=true;
			                       twod=false;showpt=true;trace=true;vel=true;acc=true;osc=false;k=false;repeat=false;
			                       bounce=false;showtvector=false;shownvector=false;showbvector=false;showtnbeqs=false;
			                       showtnblabels=false;showoscplane=false;showrectplane=false;shownormplane=false&amp;
			                       type=vector;vector=%3C1,2,1.5%3E;visible=true;color=rgb(255,0,0);size=2;initialpt=(0,0,0)&amp;
			                       type=point;point=(7.4,5.8,1.6);visible=true;color=rgb(0,0,0);size=4&amp;
			                       type=point;point=(9.4,9.8,4.6);visible=true;color=rgb(0,0,0);size=4&amp;
			                       type=text;text=%20%20%20%20%20P%20~%20(x%3Csub%3E0%3C%2Fsub%3E%2C%20y%3Csub%3E0%3C%2Fsub%3E%2C%20z%3Csub%3E0%3C%2Fsub%3E);
			                       visible=true;point=(7.4,5.8,1.6);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=12pt;
			                       bold=false;italic=false;fontmath=true;align=Center-right&amp;
			                       type=text;text=%20%20%20%20Q%20~%20(x%2C%20y%2C%20z);visible=true;point=(9.4,9.8,4.6);
			                       color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=12pt;bold=false;italic=false;
			                       fontmath=true;align=Center-right&amp;
			                       type=text;text=v%3Charpoon%3E%20~%20%3Ca%2C%20b%2C%20c%3E;
			                       visible=true;point=(1,2,1.5);color=rgb(255,0,0);font=Times%20New%20Roman;fontsize=14pt;
			                       bold=false;italic=true;fontmath=true;align=Center-left&amp;
			                       type=window;hsrmode=1;anaglyph=-1;center=17.139439715453594,10.377939594400079,5.155621864146323,1;
			                       focus=5,5,5,1;up=-0.2866219643580234,-0.12700640150211873,0.9495879230092552,1;
			                       transparent=false;alpha=140;edgeson=true;faceson=true;showbox=false;showaxes=true;
			                       showticks=false;perspective=true;centerxpercent=0.5;centerypercent=0.5;rotationsteps=30;
			                       autospin=true;xygrid=true;yzgrid=true;xzgrid=true;gridsonbox=true;gridplanes=false;
			                       gridcolor=rgb(128,128,128);xmin=0;xmax=10;ymin=0;ymax=10;zmin=0;zmax=10;xscale=1;
			                       yscale=1;zscale=1;zcmin=-4;zcmax=4;zoom=0.305882;xscalefactor=1;yscalefactor=1;zscalefactor=1"
			                       width="90%">
			               </iframe>
			               </p>]]>
					  </input>
				  </program>
			   </sidebyside>

		    </paragraphs>
			<paragraphs>
			   <title>PreTeXt</title>
			   <p>When inserting a dynamic figure created with CalcPlot3D into a PreTeXt document, we need to use the following PreTeXt construction.</p>
			   <sidebyside><program><input>
			       <![CDATA[<figure>
			          <caption>dynamic figure</caption>
			          <interactive calcplot3d="Querystring from CalcPlot3D" 
			                       variant="minimal" 
			                       width="90%">
			             <static>
			                <image source="location of a static image of the dynamic figure for PDF output" width="50%" />
			             </static>
			          </interactive>
			       </figure>
			       ]]>
			   </input></program></sidebyside>
			   
			   <p>For the example shown in <xref ref="figure-dynamicfigure1" /> above, this construction looks like:</p>
			   <sidebyside><program><input>
			       <![CDATA[<figure>
			          <caption>dynamic figure</caption>
			          <interactive calcplot3d="type=z;z=7xy/e^(x^2+y^2);visible=false;umin=0;umax=10;usteps=100;vmin=0;vmax=10;grid=30;format=normal;alpha=-1;constcol=rgb(255,0,0);contourcolor=red&amp;type=spacecurve;spacecurve=curve;x=t+7;y=2t+5;z=1.5t+1;visible=true;tmin=-10;tmax=10;tsteps=100;color=rgb(17,109,192);showtrace=false;tval=2.4000000000000004;constcol=true;twod=false;showpt=true;trace=true;vel=true;acc=true;osc=false;k=false;repeat=false;bounce=false;showtvector=false;shownvector=false;showbvector=false;showtnbeqs=false;showtnblabels=false;showoscplane=false;showrectplane=false;shownormplane=false&amp;type=vector;vector=%3C1,2,1.5%3E;visible=true;color=rgb(255,0,0);size=2;initialpt=(0,0,0)&amp;type=point;point=(7.4,5.8,1.6);visible=true;color=rgb(0,0,0);size=4&amp;type=point;point=(9.4,9.8,4.6);visible=true;color=rgb(0,0,0);size=4&amp;type=text;text=%20%20%20%20%20P%20~%20(x%3Csub%3E0%3C%2Fsub%3E%2C%20y%3Csub%3E0%3C%2Fsub%3E%2C%20z%3Csub%3E0%3C%2Fsub%3E);visible=true;point=(7.4,5.8,1.6);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=12pt;bold=false;italic=false;fontmath=true;align=Center-right&amp;type=text;text=%20%20%20%20Q%20~%20(x%2C%20y%2C%20z);visible=true;point=(9.4,9.8,4.6);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=12pt;bold=false;italic=false;fontmath=true;align=Center-right&amp;type=text;text=v%3Charpoon%3E%20~%20%3Ca%2C%20b%2C%20c%3E;visible=true;point=(1,2,2.25);color=rgb(255,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=false;italic=true;fontmath=true;align=Center&amp;type=window;hsrmode=1;anaglyph=-1;center=17.139439715453594,10.377939594400079,5.155621864146323,1;focus=5,5,5,1;up=-0.2866219643580234,-0.12700640150211873,0.9495879230092552,1;transparent=false;alpha=140;edgeson=true;faceson=true;showbox=false;showaxes=true;showticks=false;perspective=true;centerxpercent=0.4;centerypercent=0.5;rotationsteps=30;autospin=true;xygrid=true;yzgrid=true;xzgrid=true;gridsonbox=true;gridplanes=false;gridcolor=rgb(128,128,128);xmin=0;xmax=10;ymin=0;ymax=10;zmin=0;zmax=10;xscale=1;yscale=1;zscale=1;zcmin=-4;zcmax=4;zoom=0.15;xscalefactor=1;yscalefactor=1;zscalefactor=1"
			                       variant="minimal"
			                       width="60%">
					      <static>
						     <image source="images/staticline3d.png" width="50%"/>
					      </static>
			          </interactive>
			       </figure>
			       ]]>
			   </input></program></sidebyside>		   
		    </paragraphs>

        </section>

        <section>
             <title>Dynamic Figures with Controls</title>
			 <p>It is possible to create dynamic figures that do show some parameter sliders and sometimes also the 2D trace plot.  These dynamic figures use a different base URL:</p>
			 <sidebyside><program><input>https://www.monroecc.edu/faculty/paulseeburger/CalcPlot3D/dynamicFigureWCP/</input></program></sidebyside>
			 <p>If there are sliders in these dynamic figures with controls, they can be given new labels and used to vary the associated parameters in the plot.
			 See an example in <xref ref="figure-dynamicfigure2"/> below. Note that you can click on the 2D trace plane and see a corresponding trace point on the 3D surface.
			 You can also move the sliders or enter values from 1 to 3 in each textbox to see the number of peaks/valleys change.</p>
			 <figure xml:id="figure-dynamicfigure2">
				<caption>A dynamic figure with controls</caption>
				<interactive calcplot3d="type=jaxlabel;position=middle;math=%255Cpsi_%257Bn_x%252Cn_y%257D(x%252Cy);textonly=false&amp;type=z;z=sin(api*x)sin(bpi*y);visible=true;umin=0;umax=1;vmin=0;vmax=1;grid=50;format=normal;alpha=200;constcol=rgb(255,0,0);view=0;contourcolor=rgb(255,0,0);contourplot=true;showcontourplot=true;firstvalue=-1;stepsize=0.2;numlevels=11;xnum=75;ynum=75;show2d=false;hidesurface=false;hidelabels=false;showprojections=false;surfacecontours=true;projectioncolor=rgba(51,153,0,1);showxygrid=false;showxygridonbox=false&amp;type=slider;slider=a;value=1;steps=2;pmin=1;pmax=3;repeat=true;bounce=true;waittime=40;careful=true;noanimate=true;name=n_x&amp;type=slider;slider=b;value=1;steps=2;pmin=1;pmax=3;repeat=true;bounce=true;waittime=40;careful=true;noanimate=true;name=n_y&amp;type=text;text=0;visible=true;point=(0,0,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=15pt;bold=true;italic=false;fontmath=true;align=Center-left&amp;type=text;text=L;visible=true;point=(1,-0.025,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;fontmath=true;align=Center&amp;type=text;text=L;visible=true;point=(-0.05,1,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;fontmath=true;align=Center&amp;type=text;text=x;visible=true;point=(0.5,-0.07,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;fontmath=true;align=Center&amp;type=text;text=y;visible=true;point=(-0.08,0.5,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;fontmath=true;align=Center&amp;type=window;hsrmode=3;anaglyph=-1;center=-7.447051206708178,-2.790794355991455,3.71998429905919,1;focus=0.5,0.5,0.5,1;up=0.39804763218685024,0.14521777837291014,0.9057979241281567,1;transparent=true;alpha=140;twoviews=false;unlinkviews=false;axisextension=0;xaxislabel=%20;yaxislabel=%20;zaxislabel=%20;edgeson=false;faceson=true;showbox=false;showaxes=false;showticks=false;perspective=true;centerxpercent=0.5;centerypercent=0.4;rotationsteps=30;autospin=true;xygrid=false;yzgrid=false;xzgrid=false;gridsonbox=false;gridplanes=true;gridcolor=rgb(128,128,128);xmin=0;xmax=1;ymin=0;ymax=1;zmin=0;zmax=1;xscale=1;yscale=1;zscale=1;zcmin=-4;zcmax=4;zoom=3.0;xscalefactor=1;yscalefactor=1;zscalefactor=0.5;hidexysliders=true;hidetracevalue=true;" variant="controls" width="100%" aspect="3:2">
					<static>
						<image source="images/staticprobabilitydensity.png" width="100%"/>
					</static>
				</interactive>
			</figure>

            <p>To create a dynamic figure with controls there are a few more steps to take:
			<ol><li>Create the plot you desire to display in the dynamic figure using CalcPlot3D.  In order to have controls, it will need to make use of parameter sliders or include a contour plot.
			As time goes on, more options may become available.  (Let me know what you'd like to use, and I'll try to implement it.)</li>
			<li><p>Then save the view to the URL using the option on the File menu.  (See <xref ref="subsection-savetourl"/>.)
			You'll get a URL something like this:</p>
			<sidebyside><program><input>https://www.monroecc.edu/faculty/paulseeburger/calcnsf/CalcPlot3D/?type=jaxlabel;position=middle;math=%255Cpsi_%257Bn_x%252Cn_y%257D(x%252Cy);textonly=false&amp;type=z;z=sin(api*x)sin(bpi*y);visible=true;umin=0;umax=1;vmin=0;vmax=1;grid=50;format=normal;alpha=200;constcol=rgb(255,0,0);view=0;contourcolor=rgb(255,0,0);contourplot=true;showcontourplot=true;firstvalue=-1;stepsize=0.2;numlevels=11;xnum=75;ynum=75;show2d=false;hidesurface=false;hidelabels=false;showprojections=false;surfacecontours=true;projectioncolor=rgba(51,153,0,1);showxygrid=false;showxygridonbox=false&amp;type=slider;slider=a;value=1;steps=2;pmin=1;pmax=3;repeat=true;bounce=true;waittime=40;careful=true;noanimate=true;name=n_x&amp;type=slider;slider=b;value=1;steps=2;pmin=1;pmax=3;repeat=true;bounce=true;waittime=40;careful=true;noanimate=true;name=n_y&amp;type=text;text=0;visible=true;point=(0,0,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=15pt;bold=true;italic=false;fontmath=true;align=Center-left&amp;type=text;text=L;visible=true;point=(1,-0.025,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;fontmath=true;align=Center&amp;type=text;text=L;visible=true;point=(-0.05,1,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;fontmath=true;align=Center&amp;type=text;text=x;visible=true;point=(0.5,-0.07,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;fontmath=true;align=Center&amp;type=text;text=y;visible=true;point=(-0.08,0.5,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;fontmath=true;align=Center&amp;type=window;hsrmode=3;anaglyph=-1;center=-7.447051206708178,-2.790794355991455,3.71998429905919,1;focus=0.5,0.5,0.5,1;up=0.39804763218685024,0.14521777837291014,0.9057979241281567,1;transparent=true;alpha=140;twoviews=false;unlinkviews=false;axisextension=0;xaxislabel=%20;yaxislabel=%20;zaxislabel=%20;edgeson=false;faceson=true;showbox=false;showaxes=false;showticks=false;perspective=true;centerxpercent=0.5;centerypercent=0.4;rotationsteps=30;autospin=true;xygrid=false;yzgrid=false;xzgrid=false;gridsonbox=false;gridplanes=true;gridcolor=rgb(128,128,128);xmin=0;xmax=1;ymin=0;ymax=1;zmin=0;zmax=1;xscale=1;yscale=1;zscale=1;zcmin=-4;zcmax=4;zoom=3.543529;xscalefactor=1;yscalefactor=1;zscalefactor=0.5;hidexysliders=true;hidetracevalue=true;
			
			</input></program></sidebyside>
			</li>
			<li><p>Now you have a few options that you may wish to alter in the query string by hand.
			    <ul>
			        <li><p>You can add a <c>name</c> attribute and/or a <c>noanimate</c> attribute to any sliders.  For example, "noanimate=true;name=n_x".  Note that each object, including the sliders, starts with "type=" in the query string.</p>
			            <p>The <c>name</c> attribute changes the label of the slider to the supplied name, using MathJAX to format the supplied name.  This means you can use LaTeX in the name.</p>
			            <p>The <c>noanimate</c> attribute allows you to hide the Animate button on the slider control, if you wish.</p></li>
			        <li><p>You can add one or more of the following attributes to the window element at the very end of the query string: 
			        "hidexysliders=true;hidetracevalue=true;"</p>
			            <p>Here the <c>hidexysliders</c> tag allows you to hide the <m>x</m>- and <m>y</m>-sliders that appear below the 2D trace plane by default.</p>
			            <p>The <c>hidetracevalue</c> tag allows you to hide the trace value normally displayed on the 3D plot when moving a trace point around on the
			            2D trace plane (and 3D surface).</p></li>
			    </ul></p>
			</li>
			<li>Copy the part of the URL after the question mark to paste into the appropriate HTML code shown below.</li>
			<li>Now typically we need to place the dynamic figure in an <c>iframe</c>, although this is hidden from the user in PreTeXt.
			Copy and paste the code below, depending on your situation.</li>
			</ol></p>
			<paragraphs>
			   <title>LibreTexts and many other HTML web pages</title>
			   <p>In order to get a dynamic figure that hides all the menus and controls of the CalcPlot3D app, we need to use a slightly different URL.</p>
			   <p>The URL for a dynamic figure with <alert>no controls</alert> is:</p> 
			   <sidebyside><program><input>https://www.monroecc.edu/faculty/paulseeburger/CalcPlot3D/dynamicFigure/</input></program></sidebyside>
			   <p>Note that the data for the figure is encoded in a query string by CalcPlot3D.  This means that we will need a question mark (?) just after the URL above
			   and then we'll paste the data copied from the CalcPlot3D-generated URL.  If we were to enter this new URL and query string in the browser directly,
			   we would get the dynamic figure by itself on the page.</p>
			   <p>To get the figure(s) on a page, especially if you might wish to place more than one of these dynamic figures on the same page,
			   it is useful to embed each dynamic figure in an <c>iframe</c> (so they won't interfere with each other).
			   I choose to make the width of this <c>iframe</c> 90% or less so there is still space on each side to scroll up and down past the figure.
			   For dynamic figures with controls, you may wish to adjust the height so that the width will always be larger than the height.
			   Some adjustment may be required to accomodate the control sliders and 2D trace plane (when present).</p>
			   <p>Below you can see a listing of the code for <xref ref="figure-dynamicfigure2" /> when it is displayed in LibreTexts or a generic webpage.
			   Note that you can see the modified code elements I mentioned above.  The sliders each have the <c>name</c> and <c>noanimate</c> attributes,
			   and the <c>hidexysliders</c> and <c>hidetracevalue</c> attributes are in the last line of the query string.</p>
			   <sidebyside>
			      <program language="html">
			          <input>
			               <![CDATA[<p style="text-align:center">
			               <iframe frameborder="0" height="480px" src="https://www.monroecc.edu/faculty/paulseeburger/CalcPlot3D/dynamicFigureWCP/?
			               type=jaxlabel;position=middle;math=%255Cpsi_%257Bn_x%252Cn_y%257D(x%252Cy);textonly=false&amp;
			               type=z;z=sin(api*x)sin(bpi*y);visible=true;umin=0;umax=1;vmin=0;vmax=1;grid=50;format=normal;alpha=200;
			                 constcol=rgb(255,0,0);view=0;contourcolor=rgb(255,0,0);contourplot=true;showcontourplot=true;firstvalue=-1;
			                 stepsize=0.2;numlevels=11;xnum=75;ynum=75;show2d=false;hidesurface=false;hidelabels=false;showprojections=false;
			                 surfacecontours=true;projectioncolor=rgba(51,153,0,1);showxygrid=false;showxygridonbox=false&amp;
			               type=slider;slider=a;value=1;steps=2;pmin=1;pmax=3;repeat=true;bounce=true;waittime=40;careful=true;noanimate=true;name=n_x&amp;
			               type=slider;slider=b;value=1;steps=2;pmin=1;pmax=3;repeat=true;bounce=true;waittime=40;careful=true;noanimate=true;name=n_y&amp;
			               type=text;text=0;visible=true;point=(0,0,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=15pt;bold=true;italic=false;
			                 fontmath=true;align=Center-left&amp;
			               type=text;text=L;visible=true;point=(1,-0.025,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;
			                 fontmath=true;align=Center&amp;
			               type=text;text=L;visible=true;point=(-0.05,1,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;
			                 fontmath=true;align=Center&amp;
			               type=text;text=x;visible=true;point=(0.5,-0.07,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;
			                 fontmath=true;align=Center&amp;
			               type=text;text=y;visible=true;point=(-0.08,0.5,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;
			                 fontmath=true;align=Center&amp;
			               type=window;hsrmode=3;anaglyph=-1;center=-7.447051206708178,-2.790794355991455,3.71998429905919,1;
			                 focus=0.5,0.5,0.5,1;up=0.39804763218685024,0.14521777837291014,0.9057979241281567,1;transparent=true;alpha=140;twoviews=false;
			                 unlinkviews=false;axisextension=0;xaxislabel=%20;yaxislabel=%20;zaxislabel=%20;edgeson=false;faceson=true;showbox=false;
			                 showaxes=false;showticks=false;perspective=true;centerxpercent=0.5;centerypercent=0.4;rotationsteps=30;autospin=true;
			                 xygrid=false;yzgrid=false;xzgrid=false;gridsonbox=false;gridplanes=true;gridcolor=rgb(128,128,128);
			                 xmin=0;xmax=1;ymin=0;ymax=1;zmin=0;zmax=1;xscale=1;yscale=1;zscale=1;zcmin=-4;zcmax=4;zoom=3.543529;
			                 xscalefactor=1;yscalefactor=1;zscalefactor=0.5;
			                 hidexysliders=true;hidetracevalue=true;" 
			               width="90%"></iframe></p>]]>
					  </input>
				  </program>
			   </sidebyside>

		    </paragraphs>
			<paragraphs>
			   <title>PreTeXt</title>
			   <p>When inserting a dynamic figure created with CalcPlot3D into a PreTeXt document, we need to use the following PreTeXt construction.</p>
			   <sidebyside><program><input>
			       <![CDATA[<figure>
			          <caption>dynamic figure</caption>
			          <interactive calcplot3d="Querystring from CalcPlot3D" 
			                       variant="controls" 
			                       width="90%"
			                       aspect="3:2">
			             <static>
			                <image source="location of a static image of the dynamic figure for PDF output" width="100%" />
			             </static>
			          </interactive>
			       </figure>
			       ]]>
			   </input></program></sidebyside>
			   <p>Note that we changed the <c>variant</c> attribute from "minimal" to "controls".  We also added an <c>aspect</c> attribute.
			   This forces the viewport to the given aspect ratio, making it wider than it is tall and accommodating the control panel on the left.</p>
			   <p>For the example shown in <xref ref="figure-dynamicfigure2" /> above, this construction looks like:</p>
			   <sidebyside><program><input>
			       <![CDATA[<figure xml:id="figure-dynamicfigure2">
						<caption>A dynamic figure with controls</caption>
						<interactive calcplot3d="type=jaxlabel;position=middle;math=%255Cpsi_%257Bn_x%252Cn_y%257D(x%252Cy);textonly=false&amp;type=z;z=sin(api*x)sin(bpi*y);visible=true;umin=0;umax=1;vmin=0;vmax=1;grid=50;format=normal;alpha=200;constcol=rgb(255,0,0);view=0;contourcolor=rgb(255,0,0);contourplot=true;showcontourplot=true;firstvalue=-1;stepsize=0.2;numlevels=11;xnum=75;ynum=75;show2d=false;hidesurface=false;hidelabels=false;showprojections=false;surfacecontours=true;projectioncolor=rgba(51,153,0,1);showxygrid=false;showxygridonbox=false&amp;type=slider;slider=a;value=1;steps=2;pmin=1;pmax=3;repeat=true;bounce=true;waittime=40;careful=true;noanimate=true;name=n_x&amp;type=slider;slider=b;value=1;steps=2;pmin=1;pmax=3;repeat=true;bounce=true;waittime=40;careful=true;noanimate=true;name=n_y&amp;type=text;text=0;visible=true;point=(0,0,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=15pt;bold=true;italic=false;fontmath=true;align=Center-left&amp;type=text;text=L;visible=true;point=(1,-0.025,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;fontmath=true;align=Center&amp;type=text;text=L;visible=true;point=(-0.05,1,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;fontmath=true;align=Center&amp;type=text;text=x;visible=true;point=(0.5,-0.07,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;fontmath=true;align=Center&amp;type=text;text=y;visible=true;point=(-0.08,0.5,0);color=rgb(0,0,0);font=Times%20New%20Roman;fontsize=14pt;bold=true;italic=false;fontmath=true;align=Center&amp;type=window;hsrmode=3;anaglyph=-1;center=-7.447051206708178,-2.790794355991455,3.71998429905919,1;focus=0.5,0.5,0.5,1;up=0.39804763218685024,0.14521777837291014,0.9057979241281567,1;transparent=true;alpha=140;twoviews=false;unlinkviews=false;axisextension=0;xaxislabel=%20;yaxislabel=%20;zaxislabel=%20;edgeson=false;faceson=true;showbox=false;showaxes=false;showticks=false;perspective=true;centerxpercent=0.5;centerypercent=0.4;rotationsteps=30;autospin=true;xygrid=false;yzgrid=false;xzgrid=false;gridsonbox=false;gridplanes=true;gridcolor=rgb(128,128,128);xmin=0;xmax=1;ymin=0;ymax=1;zmin=0;zmax=1;xscale=1;yscale=1;zscale=1;zcmin=-4;zcmax=4;zoom=3.0;xscalefactor=1;yscalefactor=1;zscalefactor=0.5;hidexysliders=true;hidetracevalue=true;"
						             variant="controls" 
						             width="100%" 
						             aspect="3:2">
							<static>
								<image source="images/staticprobabilitydensity.png" width="100%"/>
							</static>
						</interactive>
			       </figure>
			       ]]>
			   </input></program></sidebyside>		   
		    </paragraphs>
            
		</section>

	</appendix>
</backmatter>

</book>
</mathbook>